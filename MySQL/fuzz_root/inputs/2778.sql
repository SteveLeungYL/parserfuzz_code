CREATE TABLE t1(a INTEGER);
INSERT INTO t1 VALUES(11),(12),(13),(14),(15),(16),(17),(18),(19);
ANALYZE TABLE t1;
CREATE TABLE t2(a INTEGER);
INSERT INTO t2 VALUES(21),(22),(23),(24),(25),(26),(27);
SELECT * FROM t1 LIMIT 6;
SELECT * FROM t1 LIMIT 5 OFFSET 1;
EXPLAIN FORMAT=TREE SELECT * FROM t1 LIMIT 5 OFFSET 1;
(SELECT * FROM t1 LIMIT 7) ORDER BY a DESC LIMIT 4;
(SELECT * FROM t1 LIMIT 7 OFFSET 1) ORDER BY a DESC LIMIT 4 OFFSET 2;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 7) ORDER BY a LIMIT 4;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 7 OFFSET 1) ORDER BY a LIMIT 4 OFFSET 2;
SELECT * FROM t1 UNION SELECT * FROM t2 LIMIT 5;
SELECT * FROM t1 UNION SELECT * FROM t2 LIMIT 5 OFFSET 6;
SELECT * FROM t1 UNION SELECT * FROM t2 ORDER BY a LIMIT 5;
SELECT * FROM t1 UNION SELECT * FROM t2 ORDER BY a LIMIT 5 OFFSET 6;
SELECT * FROM t1 UNION ALL SELECT * FROM t2 LIMIT 5;
SELECT * FROM t1 UNION ALL SELECT * FROM t2 LIMIT 5 OFFSET 6;
SELECT * FROM t1 UNION ALL SELECT * FROM t2 ORDER BY a LIMIT 5;
SELECT * FROM t1 UNION ALL SELECT * FROM t2 ORDER BY a LIMIT 5 OFFSET 6;
(SELECT * FROM t1 LIMIT 5) UNION SELECT * FROM t2 LIMIT 8;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION SELECT * FROM t2 LIMIT 8 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION SELECT * FROM t2 LIMIT 8;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION SELECT * FROM t2 LIMIT 8 OFFSET 1;
(SELECT * FROM t1 LIMIT 5) UNION SELECT * FROM t2 ORDER BY a LIMIT 8;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION SELECT * FROM t2 ORDER BY a LIMIT 8 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION SELECT * FROM t2 ORDER BY a LIMIT 8;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION SELECT * FROM t2 ORDER BY a LIMIT 8 OFFSET 1;
(SELECT * FROM t1 LIMIT 5) UNION ALL SELECT * FROM t2 LIMIT 8;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION ALL SELECT * FROM t2 LIMIT 8 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION ALL SELECT * FROM t2 LIMIT 8;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION ALL SELECT * FROM t2 LIMIT 8 OFFSET 1;
(SELECT * FROM t1 LIMIT 5) UNION ALL SELECT * FROM t2 ORDER BY a LIMIT 8;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION ALL SELECT * FROM t2 ORDER BY a LIMIT 8 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION ALL SELECT * FROM t2 ORDER BY a LIMIT 8;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION ALL SELECT * FROM t2 ORDER BY a LIMIT 8 OFFSET 1;
(SELECT * FROM t1 LIMIT 5) UNION (SELECT * FROM t2 LIMIT 4) LIMIT 7;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION (SELECT * FROM t2 LIMIT 4 OFFSET 2) LIMIT 7 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION (SELECT * FROM t2 ORDER BY a DESC LIMIT 4) LIMIT 7;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION (SELECT * FROM t2 ORDER BY a DESC LIMIT 4 OFFSET 2) LIMIT 7 OFFSET 1;
(SELECT * FROM t1 LIMIT 5) UNION (SELECT * FROM t2 LIMIT 4) ORDER BY a LIMIT 7;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION (SELECT * FROM t2 LIMIT 4 OFFSET 2) ORDER BY a LIMIT 7 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION (SELECT * FROM t2 ORDER BY a DESC LIMIT 4) ORDER BY a LIMIT 7;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION (SELECT * FROM t2 ORDER BY a DESC LIMIT 4 OFFSET 2) ORDER BY a LIMIT 7 OFFSET 1;
(SELECT * FROM t1 LIMIT 5) UNION ALL (SELECT * FROM t2 LIMIT 4) LIMIT 7;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION ALL (SELECT * FROM t2 LIMIT 4 OFFSET 2) LIMIT 7 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION ALL (SELECT * FROM t2 ORDER BY a DESC LIMIT 4) LIMIT 7;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION ALL (SELECT * FROM t2 ORDER BY a DESC LIMIT 4 OFFSET 2) LIMIT 7 OFFSET 1;
(SELECT * FROM t1 LIMIT 5) UNION ALL (SELECT * FROM t2 LIMIT 4) ORDER BY a LIMIT 7;
(SELECT * FROM t1 LIMIT 5 OFFSET 4) UNION ALL (SELECT * FROM t2 LIMIT 4 OFFSET 2) ORDER BY a LIMIT 7 OFFSET 1;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5) UNION ALL (SELECT * FROM t2 ORDER BY a DESC LIMIT 4) ORDER BY a LIMIT 7;
(SELECT * FROM t1 ORDER BY a DESC LIMIT 5 OFFSET 4) UNION ALL (SELECT * FROM t2 ORDER BY a DESC LIMIT 4 OFFSET 2) ORDER BY a LIMIT 7 OFFSET 1;
DROP TABLE t1, t2;
create table t1 (a int not null default 0 primary key, b int not null default 0);
insert into t1 () values ();
insert into t1 values (1,1),(2,1),(3,1);
update t1 set a=4 where b=1 limit 1;
select * from t1;
update t1 set b=2 where b=1 limit 2;
select * from t1;
update t1 set b=4 where b=1;
select * from t1;
delete from t1 where b=2 limit 1;
select * from t1;
delete from t1 limit 1;
select * from t1;
drop table t1;
create table t1 (i int);
insert into t1 (i) values(1),(1),(1);
delete from t1 limit 1;
update t1 set i=2 limit 1;
delete from t1 limit 0;
update t1 set i=3 limit 0;
select * from t1;
drop table t1;
select 0 limit 0;
CREATE TABLE t1(id int auto_increment primary key, id2 int, index(id2));
INSERT INTO t1 (id2) values (0),(0),(0);
DELETE FROM t1 WHERE id=1;
INSERT INTO t1 SET id2=0;
SELECT * FROM t1;
DELETE FROM t1 WHERE id2 = 0 ORDER BY id LIMIT 1;
