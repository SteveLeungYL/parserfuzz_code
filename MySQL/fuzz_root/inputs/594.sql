SET sql_mode = 'NO_ENGINE_SUBSTITUTION';
DROP TABLE IF EXISTS t1, t2;
CREATE TABLE t1 ( fid INT NOT NULL AUTO_INCREMENT PRIMARY KEY,  g GEOMETRY NOT NULL SRID 0, SPATIAL KEY(g) ) ENGINE=MyISAM;
SHOW CREATE TABLE t1;
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(150 150, 150 150)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(149 149, 151 151)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(148 148, 152 152)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(147 147, 153 153)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(146 146, 154 154)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(145 145, 155 155)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(144 144, 156 156)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(143 143, 157 157)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(142 142, 158 158)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(141 141, 159 159)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(140 140, 160 160)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(139 139, 161 161)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(138 138, 162 162)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(137 137, 163 163)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(136 136, 164 164)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(135 135, 165 165)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(134 134, 166 166)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(133 133, 167 167)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(132 132, 168 168)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(131 131, 169 169)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(130 130, 170 170)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(129 129, 171 171)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(128 128, 172 172)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(127 127, 173 173)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(126 126, 174 174)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(125 125, 175 175)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(124 124, 176 176)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(123 123, 177 177)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(122 122, 178 178)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(121 121, 179 179)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(120 120, 180 180)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(119 119, 181 181)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(118 118, 182 182)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(117 117, 183 183)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(116 116, 184 184)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(115 115, 185 185)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(114 114, 186 186)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(113 113, 187 187)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(112 112, 188 188)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(111 111, 189 189)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(110 110, 190 190)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(109 109, 191 191)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(108 108, 192 192)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(107 107, 193 193)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(106 106, 194 194)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(105 105, 195 195)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(104 104, 196 196)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(103 103, 197 197)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(102 102, 198 198)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(101 101, 199 199)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(100 100, 200 200)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(99 99, 201 201)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(98 98, 202 202)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(97 97, 203 203)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(96 96, 204 204)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(95 95, 205 205)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(94 94, 206 206)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(93 93, 207 207)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(92 92, 208 208)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(91 91, 209 209)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(90 90, 210 210)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(89 89, 211 211)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(88 88, 212 212)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(87 87, 213 213)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(86 86, 214 214)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(85 85, 215 215)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(84 84, 216 216)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(83 83, 217 217)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(82 82, 218 218)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(81 81, 219 219)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(80 80, 220 220)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(79 79, 221 221)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(78 78, 222 222)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(77 77, 223 223)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(76 76, 224 224)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(75 75, 225 225)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(74 74, 226 226)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(73 73, 227 227)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(72 72, 228 228)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(71 71, 229 229)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(70 70, 230 230)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(69 69, 231 231)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(68 68, 232 232)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(67 67, 233 233)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(66 66, 234 234)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(65 65, 235 235)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(64 64, 236 236)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(63 63, 237 237)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(62 62, 238 238)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(61 61, 239 239)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(60 60, 240 240)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(59 59, 241 241)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(58 58, 242 242)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(57 57, 243 243)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(56 56, 244 244)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(55 55, 245 245)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(54 54, 246 246)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(53 53, 247 247)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(52 52, 248 248)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(51 51, 249 249)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(50 50, 250 250)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(49 49, 251 251)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(48 48, 252 252)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(47 47, 253 253)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(46 46, 254 254)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(45 45, 255 255)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(44 44, 256 256)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(43 43, 257 257)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(42 42, 258 258)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(41 41, 259 259)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(40 40, 260 260)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(39 39, 261 261)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(38 38, 262 262)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(37 37, 263 263)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(36 36, 264 264)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(35 35, 265 265)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(34 34, 266 266)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(33 33, 267 267)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(32 32, 268 268)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(31 31, 269 269)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(30 30, 270 270)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(29 29, 271 271)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(28 28, 272 272)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(27 27, 273 273)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(26 26, 274 274)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(25 25, 275 275)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(24 24, 276 276)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(23 23, 277 277)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(22 22, 278 278)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(21 21, 279 279)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(20 20, 280 280)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(19 19, 281 281)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(18 18, 282 282)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(17 17, 283 283)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(16 16, 284 284)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(15 15, 285 285)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(14 14, 286 286)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(13 13, 287 287)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(12 12, 288 288)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(11 11, 289 289)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(10 10, 290 290)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(9 9, 291 291)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(8 8, 292 292)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(7 7, 293 293)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(6 6, 294 294)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(5 5, 295 295)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(4 4, 296 296)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(3 3, 297 297)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(2 2, 298 298)'));
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(1 1, 299 299)'));
SELECT count(*) FROM t1;
EXPLAIN SELECT fid, ST_AsText(g) FROM t1 WHERE ST_Within(g, ST_GeomFromText('Polygon((140 140,160 140,160 160,140 160,140 140))'));
SELECT fid, ST_AsText(g) FROM t1 WHERE ST_Within(g, ST_GeomFromText('Polygon((140 140,160 140,160 160,140 160,140 140))'));
DROP TABLE t1;
CREATE TABLE t2 ( fid INT NOT NULL AUTO_INCREMENT PRIMARY KEY,  g GEOMETRY NOT NULL SRID 0 ) ENGINE=MyISAM;
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 10 * 10 - 9), Point(10 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 9 * 10 - 9), Point(10 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 8 * 10 - 9), Point(10 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 7 * 10 - 9), Point(10 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 6 * 10 - 9), Point(10 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 5 * 10 - 9), Point(10 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 4 * 10 - 9), Point(10 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 3 * 10 - 9), Point(10 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 2 * 10 - 9), Point(10 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(10 * 10 - 9, 1 * 10 - 9), Point(10 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 10 * 10 - 9), Point(9 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 9 * 10 - 9), Point(9 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 8 * 10 - 9), Point(9 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 7 * 10 - 9), Point(9 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 6 * 10 - 9), Point(9 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 5 * 10 - 9), Point(9 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 4 * 10 - 9), Point(9 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 3 * 10 - 9), Point(9 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 2 * 10 - 9), Point(9 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(9 * 10 - 9, 1 * 10 - 9), Point(9 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 10 * 10 - 9), Point(8 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 9 * 10 - 9), Point(8 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 8 * 10 - 9), Point(8 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 7 * 10 - 9), Point(8 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 6 * 10 - 9), Point(8 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 5 * 10 - 9), Point(8 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 4 * 10 - 9), Point(8 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 3 * 10 - 9), Point(8 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 2 * 10 - 9), Point(8 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(8 * 10 - 9, 1 * 10 - 9), Point(8 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 10 * 10 - 9), Point(7 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 9 * 10 - 9), Point(7 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 8 * 10 - 9), Point(7 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 7 * 10 - 9), Point(7 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 6 * 10 - 9), Point(7 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 5 * 10 - 9), Point(7 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 4 * 10 - 9), Point(7 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 3 * 10 - 9), Point(7 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 2 * 10 - 9), Point(7 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(7 * 10 - 9, 1 * 10 - 9), Point(7 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 10 * 10 - 9), Point(6 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 9 * 10 - 9), Point(6 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 8 * 10 - 9), Point(6 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 7 * 10 - 9), Point(6 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 6 * 10 - 9), Point(6 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 5 * 10 - 9), Point(6 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 4 * 10 - 9), Point(6 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 3 * 10 - 9), Point(6 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 2 * 10 - 9), Point(6 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(6 * 10 - 9, 1 * 10 - 9), Point(6 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 10 * 10 - 9), Point(5 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 9 * 10 - 9), Point(5 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 8 * 10 - 9), Point(5 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 7 * 10 - 9), Point(5 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 6 * 10 - 9), Point(5 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 5 * 10 - 9), Point(5 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 4 * 10 - 9), Point(5 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 3 * 10 - 9), Point(5 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 2 * 10 - 9), Point(5 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(5 * 10 - 9, 1 * 10 - 9), Point(5 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 10 * 10 - 9), Point(4 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 9 * 10 - 9), Point(4 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 8 * 10 - 9), Point(4 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 7 * 10 - 9), Point(4 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 6 * 10 - 9), Point(4 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 5 * 10 - 9), Point(4 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 4 * 10 - 9), Point(4 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 3 * 10 - 9), Point(4 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 2 * 10 - 9), Point(4 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(4 * 10 - 9, 1 * 10 - 9), Point(4 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 10 * 10 - 9), Point(3 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 9 * 10 - 9), Point(3 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 8 * 10 - 9), Point(3 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 7 * 10 - 9), Point(3 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 6 * 10 - 9), Point(3 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 5 * 10 - 9), Point(3 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 4 * 10 - 9), Point(3 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 3 * 10 - 9), Point(3 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 2 * 10 - 9), Point(3 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(3 * 10 - 9, 1 * 10 - 9), Point(3 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 10 * 10 - 9), Point(2 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 9 * 10 - 9), Point(2 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 8 * 10 - 9), Point(2 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 7 * 10 - 9), Point(2 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 6 * 10 - 9), Point(2 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 5 * 10 - 9), Point(2 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 4 * 10 - 9), Point(2 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 3 * 10 - 9), Point(2 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 2 * 10 - 9), Point(2 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(2 * 10 - 9, 1 * 10 - 9), Point(2 * 10, 1 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 10 * 10 - 9), Point(1 * 10, 10 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 9 * 10 - 9), Point(1 * 10, 9 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 8 * 10 - 9), Point(1 * 10, 8 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 7 * 10 - 9), Point(1 * 10, 7 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 6 * 10 - 9), Point(1 * 10, 6 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 5 * 10 - 9), Point(1 * 10, 5 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 4 * 10 - 9), Point(1 * 10, 4 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 3 * 10 - 9), Point(1 * 10, 3 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 2 * 10 - 9), Point(1 * 10, 2 * 10)));
INSERT INTO t2 (g) VALUES (LineString(Point(1 * 10 - 9, 1 * 10 - 9), Point(1 * 10, 1 * 10)));
ALTER TABLE t2 ADD SPATIAL KEY(g);
SHOW CREATE TABLE t2;
SELECT count(*) FROM t2;
EXPLAIN SELECT fid, ST_AsText(g) FROM t2 WHERE ST_Within(g,  ST_GeomFromText('Polygon((40 40,60 40,60 60,40 60,40 40))'));
SELECT fid, ST_AsText(g) FROM t2 WHERE ST_Within(g,  ST_GeomFromText('Polygon((40 40,60 40,60 60,40 60,40 40))'));
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(10 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(10 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(10 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(10 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(10 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(10 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(10 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(10 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(10 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(10 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(10 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(9 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(9 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(9 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(9 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(9 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(9 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(9 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(9 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(9 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(9 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(9 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(8 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(8 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(8 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(8 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(8 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(8 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(8 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(8 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(8 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(8 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(8 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(7 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(7 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(7 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(7 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(7 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(7 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(7 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(7 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(7 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(7 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(7 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(6 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(6 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(6 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(6 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(6 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(6 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(6 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(6 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(6 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(6 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(6 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(5 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(5 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(5 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(5 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(5 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(5 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(5 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(5 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(5 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(5 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(5 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(4 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(4 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(4 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(4 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(4 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(4 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(4 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(4 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(4 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(4 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(4 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(3 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(3 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(3 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(3 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(3 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(3 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(3 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(3 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(3 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(3 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(3 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(2 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(2 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(2 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(2 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(2 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(2 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(2 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(2 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(2 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(2 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(2 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 10 * 10 - 9)), ST_AsWKB(Point(1 * 10, 10 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 9 * 10 - 9)), ST_AsWKB(Point(1 * 10, 9 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 8 * 10 - 9)), ST_AsWKB(Point(1 * 10, 8 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 7 * 10 - 9)), ST_AsWKB(Point(1 * 10, 7 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 6 * 10 - 9)), ST_AsWKB(Point(1 * 10, 6 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 5 * 10 - 9)), ST_AsWKB(Point(1 * 10, 5 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 4 * 10 - 9)), ST_AsWKB(Point(1 * 10, 4 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 3 * 10 - 9)), ST_AsWKB(Point(1 * 10, 3 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 2 * 10 - 9)), ST_AsWKB(Point(1 * 10, 2 * 10)))));
SELECT count(*) FROM t2;
DELETE FROM t2 WHERE ST_Within(g, ST_Envelope(ST_GeometryFromWKB(ST_AsWKB(Point(1 * 10 - 9, 1 * 10 - 9)), ST_AsWKB(Point(1 * 10, 1 * 10)))));
SELECT count(*) FROM t2;
DROP TABLE t2;
drop table if exists t1;
CREATE TABLE t1 (a geometry NOT NULL SRID 0, SPATIAL (a));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
INSERT INTO t1 VALUES (ST_GeomFromText("LINESTRING(100 100, 200 200, 300 300)"));
check table t1;
analyze table t1;
drop table t1;
CREATE TABLE t1 ( fid INT NOT NULL AUTO_INCREMENT PRIMARY KEY,  g GEOMETRY NOT NULL SRID 0, SPATIAL KEY(g) ) ENGINE=MyISAM;
INSERT INTO t1 (g) VALUES (ST_GeomFromText('LineString(1 2, 2 3)')),(ST_GeomFromText('LineString(1 2, 2 4)'));
drop table t1;
CREATE TABLE t1 ( line LINESTRING NOT NULL SRID 0, kind ENUM('po', 'pp', 'rr', 'dr', 'rd', 'ts', 'cl') NOT NULL DEFAULT 'po', name VARCHAR(32), SPATIAL KEY (line) ) engine=myisam;
ALTER TABLE t1 DISABLE KEYS;
ALTER TABLE t1 ENABLE KEYS;
INSERT INTO t1 (name, kind, line) VALUES ("austria", "pp", ST_GeomFromText('LINESTRING(14.9906 48.9887,14.9946 48.9904,14.9947 48.9916)'));
drop table t1;
CREATE TABLE t1 (st varchar(100));
INSERT INTO t1 VALUES ("Fake string");
CREATE TABLE t2 (geom GEOMETRY NOT NULL SRID 0, SPATIAL KEY gk(geom));
INSERT INTO t2 SELECT ST_GeomFromText(st) FROM t1;
drop table t1, t2;
CREATE TABLE t1 (`geometry` geometry NOT NULL SRID 0,SPATIAL KEY `gndx` (`geometry`)) ENGINE=MyISAM DEFAULT CHARSET=latin1;
INSERT INTO t1 (geometry) VALUES (ST_PolygonFromText('POLYGON((-18.6086111000 -66.9327777000, -18.6055555000 -66.8158332999, -18.7186111000 -66.8102777000, -18.7211111000 -66.9269443999, -18.6086111000 -66.9327777000))'));
INSERT INTO t1 (geometry) VALUES (ST_PolygonFromText('POLYGON((-65.7402776999 -96.6686111000, -65.7372222000 -96.5516666000, -65.8502777000 -96.5461111000, -65.8527777000 -96.6627777000, -65.7402776999 -96.6686111000))'));
check table t1 extended;
drop table t1;
CREATE TABLE t1 ( c1 geometry NOT NULL SRID 0, SPATIAL KEY i1 (c1) ) ENGINE=MyISAM DEFAULT CHARSET=latin1;
INSERT INTO t1 (c1) VALUES ( ST_PolygonFromText('POLYGON((-18.6086111000 -66.9327777000,                             -18.6055555000 -66.8158332999,                             -18.7186111000 -66.8102777000,                             -18.7211111000 -66.9269443999,                             -18.6086111000 -66.9327777000))'));
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
CREATE TABLE t1 ( c1 geometry NOT NULL SRID 0, SPATIAL KEY i1 (c1) ) ENGINE=MyISAM DEFAULT CHARSET=latin1;
INSERT INTO t1 (c1) VALUES ( ST_PolygonFromText('POLYGON((-18.6086111000 -66.9327777000,                             -18.6055555000 -66.8158332999,                             -18.7186111000 -66.8102777000,                             -18.7211111000 -66.9269443999,                             -18.6086111000 -66.9327777000))'));
INSERT INTO t1 (c1) VALUES ( ST_PolygonFromText('POLYGON((-65.7402776999 -96.6686111000,                             -65.7372222000 -96.5516666000,                             -65.8502777000 -96.5461111000,                             -65.8527777000 -96.6627777000,                             -65.7402776999 -96.6686111000))'));
INSERT INTO t1 (c1) VALUES ( ST_PolygonFromText('POLYGON((-18.6086111000 -66.9327777000,                             -18.6055555000 -66.8158332999,                             -18.7186111000 -66.8102777000,                             -18.7211111000 -66.9269443999,                             -18.6086111000 -66.9327777000))'));
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
CREATE TABLE t1 (foo GEOMETRY NOT NULL SRID 0, SPATIAL INDEX(foo) );
INSERT INTO t1 (foo) VALUES (POINT(1,1));
INSERT INTO t1 (foo) VALUES (POINT(1,0));
INSERT INTO t1 (foo) VALUES (POINT(0,1));
INSERT INTO t1 (foo) VALUES (POINT(0,0));
SELECT 1 FROM t1 WHERE foo != POINT(0,0);
DROP TABLE t1;
CREATE TABLE t1 (id bigint(12) unsigned NOT NULL auto_increment, c2 varchar(15) collate utf8_bin default NULL, c1 varchar(15) collate utf8_bin default NULL, c3 varchar(10) collate utf8_bin default NULL, spatial_point point NOT NULL SRID 0, PRIMARY KEY(id), SPATIAL KEY (spatial_point) )ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin;
SET @@RAND_SEED1=692635050, @@RAND_SEED2=297339954;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=159925977, @@RAND_SEED2=942570618;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=328169745, @@RAND_SEED2=410451954;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=178507359, @@RAND_SEED2=332493072;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=1034033013, @@RAND_SEED2=558966507;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(230 9)') where  c1 like 'y%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(95 35)') where  c1 like 'j%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(93 99)') where  c1 like 'a%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(19 81)') where  c1 like 'r%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(20 177)') where  c1 like 'h%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(221 193)') where  c1 like 'u%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(195 205)') where  c1 like 'd%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(15 213)') where  c1 like 'u%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(214 63)') where  c1 like 'n%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(243 171)') where  c1 like 'c%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(198 82)') where  c1 like 'y%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(163 157)') where  c1 like 'w%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(53 151)') where  c1 like 'd%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(96 183)') where  c1 like 'r%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(57 91)') where  c1 like 'q%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(202 110)') where  c1 like 'c%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(120 137)') where  c1 like 'w%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(207 147)') where  c1 like 'c%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(31 125)') where  c1 like 'e%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(27 36)') where  c1 like 'r%';
SET @@RAND_SEED1=481064922, @@RAND_SEED2=438133497;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=280535103, @@RAND_SEED2=444518646;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=1072017234, @@RAND_SEED2=484203885;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=358851897, @@RAND_SEED2=358495224;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
SET @@RAND_SEED1=509031459, @@RAND_SEED2=675962925;
DELETE FROM t1 ORDER BY RAND() LIMIT 10;
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(61 203)') where  c1 like 'y%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(202 194)') where  c1 like 'f%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(228 18)') where  c1 like 'h%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(88 18)') where  c1 like 'l%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(176 94)') where  c1 like 'e%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(44 47)') where  c1 like 'g%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(95 191)') where  c1 like 'b%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(179 218)') where  c1 like 'y%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(239 40)') where  c1 like 'g%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(248 41)') where  c1 like 'q%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(167 82)') where  c1 like 't%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(13 104)') where  c1 like 'u%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(139 84)') where  c1 like 'a%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(145 108)') where  c1 like 'p%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(147 57)') where  c1 like 't%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(217 144)') where  c1 like 'n%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(160 224)') where  c1 like 'w%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(38 28)') where  c1 like 'j%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(104 114)') where  c1 like 'q%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(88 19)') where  c1 like 'c%';
SET @@RAND_SEED1=866613816, @@RAND_SEED2=92289615;
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(33 100)') where  c1 like 't%';
UPDATE t1 set spatial_point=ST_GeomFromText('POINT(41 46)') where  c1 like 'f%';
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
create table t1 (a geometry not null SRID 0, spatial index(a));
insert into t1 values (POINT(1.1517219314031e+164, 131072));
insert into t1 values (POINT(9.1248812352444e+192, 2.9740338169556e+284));
insert into t1 values (POINT(4.7783097267365e-299, -0));
insert into t1 values (POINT(1.49166814624e-154, 2.0880974297595e-53));
insert into t1 values (POINT(4.0917382598702e+149, 1.2024538023802e+111));
insert into t1 values (POINT(2.0349165139404e+236, 2.9993936277913e-241));
insert into t1 values (POINT(2.5243548967072e-29, 1.2024538023802e+111));
insert into t1 values (POINT(0, 6.9835074892995e-251));
insert into t1 values (POINT(2.0880974297595e-53, 3.1050361846014e+231));
insert into t1 values (POINT(2.8728483499323e-188, 2.4600631144627e+260));
insert into t1 values (POINT(3.0517578125e-05, 2.0349165139404e+236));
insert into t1 values (POINT(1.1517219314031e+164, 1.1818212630766e-125));
insert into t1 values (POINT(2.481040258324e-265, 5.7766220027675e-275));
insert into t1 values (POINT(2.0880974297595e-53, 2.5243548967072e-29));
insert into t1 values (POINT(5.7766220027675e-275, 9.9464647281957e+86));
insert into t1 values (POINT(2.2181357552967e+130, 3.7857669957337e-270));
insert into t1 values (POINT(4.5767114681874e-246, 3.6893488147419e+19));
insert into t1 values (POINT(4.5767114681874e-246, 3.7537584144024e+255));
insert into t1 values (POINT(3.7857669957337e-270, 1.8033161362863e-130));
insert into t1 values (POINT(0, 5.8774717541114e-39));
insert into t1 values (POINT(1.1517219314031e+164, 2.2761049594727e-159));
insert into t1 values (POINT(6.243497100632e+144, 3.7857669957337e-270));
insert into t1 values (POINT(3.7857669957337e-270, 2.6355494858076e-82));
insert into t1 values (POINT(2.0349165139404e+236, 3.8518598887745e-34));
insert into t1 values (POINT(4.6566128730774e-10, 2.0880974297595e-53));
insert into t1 values (POINT(2.0880974297595e-53, 1.8827498946116e-183));
insert into t1 values (POINT(1.8033161362863e-130, 9.1248812352444e+192));
insert into t1 values (POINT(4.7783097267365e-299, 2.2761049594727e-159));
insert into t1 values (POINT(1.94906280228e+289, 1.2338789709327e-178));
drop table t1;
CREATE TABLE t1(foo GEOMETRY NOT NULL SRID 0, SPATIAL INDEX(foo) );
INSERT INTO t1(foo) VALUES (NULL);
INSERT INTO t1() VALUES ();
INSERT INTO t1(foo) VALUES ('');
DROP TABLE t1;
CREATE TABLE t1 (a INT AUTO_INCREMENT, b POINT NOT NULL SRID 0, KEY (a), SPATIAL KEY (b));
INSERT INTO t1 (b) VALUES (ST_GeomFromText('POINT(1 2)'));
INSERT INTO t1 (b) SELECT b FROM t1;
INSERT INTO t1 (b) SELECT b FROM t1;
INSERT INTO t1 (b) SELECT b FROM t1;
INSERT INTO t1 (b) SELECT b FROM t1;
INSERT INTO t1 (b) SELECT b FROM t1;
OPTIMIZE TABLE t1;
DROP TABLE t1;
CREATE TABLE t1 (a INT, b GEOMETRY NOT NULL SRID 0, SPATIAL KEY b(b));
INSERT INTO t1 VALUES (1, ST_GEOMFROMTEXT('LINESTRING(1102218.456 1,2000000 2)'));
INSERT INTO t1 VALUES (2, ST_GEOMFROMTEXT('LINESTRING(1102218.456 1,2000000 2)'));
SELECT COUNT(*) FROM t1 WHERE MBRINTERSECTS(b, ST_GEOMFROMTEXT('LINESTRING(1 1,1102219 2)') );
SELECT COUNT(*) FROM t1 IGNORE INDEX (b) WHERE MBRINTERSECTS(b, ST_GEOMFROMTEXT('LINESTRING(1 1,1102219 2)') );
DROP TABLE t1;
CREATE TABLE t1(a LINESTRING NOT NULL SRID 0, SPATIAL KEY(a));
INSERT INTO t1 VALUES (ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)')), (ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)'));
EXPLAIN SELECT 1 FROM t1 WHERE a = ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
SELECT 1 FROM t1 WHERE a = ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
EXPLAIN SELECT 1 FROM t1 WHERE a < ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
SELECT 1 FROM t1 WHERE a < ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
EXPLAIN SELECT 1 FROM t1 WHERE a <= ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
SELECT 1 FROM t1 WHERE a <= ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
EXPLAIN SELECT 1 FROM t1 WHERE a > ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
SELECT 1 FROM t1 WHERE a > ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
EXPLAIN SELECT 1 FROM t1 WHERE a >= ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
SELECT 1 FROM t1 WHERE a >= ST_GEOMFROMTEXT('LINESTRING(-1 -1, 1 -1, -1 -1, -1 1, 1 1)');
DROP TABLE t1;
CREATE TABLE t1(a GEOMETRY NOT NULL SRID 0,SPATIAL INDEX a(a));
HANDLER t1 OPEN;
HANDLER t1 READ a FIRST;
HANDLER t1 READ a NEXT;
HANDLER t1 READ a PREV;
HANDLER t1 READ a LAST;
HANDLER t1 CLOSE;
HANDLER t1 OPEN;
HANDLER t1 READ a FIRST;
INSERT INTO t1 VALUES (ST_GeomFromText('Polygon((40 40,60 40,60 60,40 60,40 40))'));
HANDLER t1 READ a NEXT;
HANDLER t1 CLOSE;
DROP TABLE t1;
CREATE TABLE t1(a LINESTRING NOT NULL SRID 0, b GEOMETRY NOT NULL SRID 0, SPATIAL KEY(a), SPATIAL KEY(b)) ENGINE=MyISAM;
INSERT INTO t1 VALUES(ST_GEOMFROMTEXT("point (0 0)"), ST_GEOMFROMTEXT("point (1 1)"));
INSERT IGNORE INTO t1 SET a=ST_GEOMFROMTEXT("point (-6 0)"), b=ST_GEOMFROMTEXT("error");
INSERT IGNORE INTO t1 SET a=ST_GEOMFROMTEXT("point (-6 0)"), b=NULL;
SELECT ST_ASTEXT(a), ST_ASTEXT(b) FROM t1;
DROP TABLE t1;
CREATE TABLE t1(a INT NOT NULL, b GEOMETRY NOT NULL SRID 0, KEY(a), SPATIAL KEY(b)) ENGINE=MyISAM;
INSERT INTO t1 VALUES(0, ST_GEOMFROMTEXT("point (1 1)"));
INSERT IGNORE INTO t1 SET a=0, b=ST_GEOMFROMTEXT("error");
INSERT IGNORE INTO t1 SET a=1, b=NULL;
SELECT a, ST_ASTEXT(b) FROM t1;
DROP TABLE t1;
SET sql_mode = default;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 0, SPATIAL KEY (g)) ENGINE=MyISAM;
DELETE FROM t1 WHERE ST_DISJOINT(g, POINT(1,1));
DROP TABLE t1;
