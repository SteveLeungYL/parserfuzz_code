CALL mtr.add_suppression("Enabling keys got errno");
drop table if exists t1,t2;
SET SQL_WARNINGS=1;
SET sql_mode = 'NO_ENGINE_SUBSTITUTION';
SET @default_table_open_cache = @@table_open_cache;
CREATE TABLE t1 ( STRING_DATA char(255) default NULL, KEY string_data (STRING_DATA) ) charset latin1 ENGINE=MyISAM;
INSERT INTO t1 VALUES ('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA');
INSERT INTO t1 VALUES ('DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD');
INSERT INTO t1 VALUES ('FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF');
INSERT INTO t1 VALUES ('FGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG');
INSERT INTO t1 VALUES ('HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH');
INSERT INTO t1 VALUES ('WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW');
CHECK TABLE t1;
drop table t1;
create table t1 (a tinyint not null auto_increment, b blob not null, primary key (a));
SET SQL_WARNINGS=0;
insert into t1 (b) values(repeat(char(65+100),65550-100));
insert into t1 (b) values(repeat(char(65+99),65550-99));
insert into t1 (b) values(repeat(char(65+98),65550-98));
insert into t1 (b) values(repeat(char(65+97),65550-97));
insert into t1 (b) values(repeat(char(65+96),65550-96));
insert into t1 (b) values(repeat(char(65+95),65550-95));
insert into t1 (b) values(repeat(char(65+94),65550-94));
insert into t1 (b) values(repeat(char(65+93),65550-93));
insert into t1 (b) values(repeat(char(65+92),65550-92));
insert into t1 (b) values(repeat(char(65+91),65550-91));
insert into t1 (b) values(repeat(char(65+90),65550-90));
insert into t1 (b) values(repeat(char(65+89),65550-89));
insert into t1 (b) values(repeat(char(65+88),65550-88));
insert into t1 (b) values(repeat(char(65+87),65550-87));
insert into t1 (b) values(repeat(char(65+86),65550-86));
insert into t1 (b) values(repeat(char(65+85),65550-85));
insert into t1 (b) values(repeat(char(65+84),65550-84));
insert into t1 (b) values(repeat(char(65+83),65550-83));
insert into t1 (b) values(repeat(char(65+82),65550-82));
insert into t1 (b) values(repeat(char(65+81),65550-81));
insert into t1 (b) values(repeat(char(65+80),65550-80));
insert into t1 (b) values(repeat(char(65+79),65550-79));
insert into t1 (b) values(repeat(char(65+78),65550-78));
insert into t1 (b) values(repeat(char(65+77),65550-77));
insert into t1 (b) values(repeat(char(65+76),65550-76));
insert into t1 (b) values(repeat(char(65+75),65550-75));
insert into t1 (b) values(repeat(char(65+74),65550-74));
insert into t1 (b) values(repeat(char(65+73),65550-73));
insert into t1 (b) values(repeat(char(65+72),65550-72));
insert into t1 (b) values(repeat(char(65+71),65550-71));
insert into t1 (b) values(repeat(char(65+70),65550-70));
insert into t1 (b) values(repeat(char(65+69),65550-69));
insert into t1 (b) values(repeat(char(65+68),65550-68));
insert into t1 (b) values(repeat(char(65+67),65550-67));
insert into t1 (b) values(repeat(char(65+66),65550-66));
insert into t1 (b) values(repeat(char(65+65),65550-65));
insert into t1 (b) values(repeat(char(65+64),65550-64));
insert into t1 (b) values(repeat(char(65+63),65550-63));
insert into t1 (b) values(repeat(char(65+62),65550-62));
insert into t1 (b) values(repeat(char(65+61),65550-61));
insert into t1 (b) values(repeat(char(65+60),65550-60));
insert into t1 (b) values(repeat(char(65+59),65550-59));
insert into t1 (b) values(repeat(char(65+58),65550-58));
insert into t1 (b) values(repeat(char(65+57),65550-57));
insert into t1 (b) values(repeat(char(65+56),65550-56));
insert into t1 (b) values(repeat(char(65+55),65550-55));
insert into t1 (b) values(repeat(char(65+54),65550-54));
insert into t1 (b) values(repeat(char(65+53),65550-53));
insert into t1 (b) values(repeat(char(65+52),65550-52));
insert into t1 (b) values(repeat(char(65+51),65550-51));
insert into t1 (b) values(repeat(char(65+50),65550-50));
insert into t1 (b) values(repeat(char(65+49),65550-49));
insert into t1 (b) values(repeat(char(65+48),65550-48));
insert into t1 (b) values(repeat(char(65+47),65550-47));
insert into t1 (b) values(repeat(char(65+46),65550-46));
insert into t1 (b) values(repeat(char(65+45),65550-45));
insert into t1 (b) values(repeat(char(65+44),65550-44));
insert into t1 (b) values(repeat(char(65+43),65550-43));
insert into t1 (b) values(repeat(char(65+42),65550-42));
insert into t1 (b) values(repeat(char(65+41),65550-41));
insert into t1 (b) values(repeat(char(65+40),65550-40));
insert into t1 (b) values(repeat(char(65+39),65550-39));
insert into t1 (b) values(repeat(char(65+38),65550-38));
insert into t1 (b) values(repeat(char(65+37),65550-37));
insert into t1 (b) values(repeat(char(65+36),65550-36));
insert into t1 (b) values(repeat(char(65+35),65550-35));
insert into t1 (b) values(repeat(char(65+34),65550-34));
insert into t1 (b) values(repeat(char(65+33),65550-33));
insert into t1 (b) values(repeat(char(65+32),65550-32));
insert into t1 (b) values(repeat(char(65+31),65550-31));
insert into t1 (b) values(repeat(char(65+30),65550-30));
insert into t1 (b) values(repeat(char(65+29),65550-29));
insert into t1 (b) values(repeat(char(65+28),65550-28));
insert into t1 (b) values(repeat(char(65+27),65550-27));
insert into t1 (b) values(repeat(char(65+26),65550-26));
insert into t1 (b) values(repeat(char(65+25),65550-25));
insert into t1 (b) values(repeat(char(65+24),65550-24));
insert into t1 (b) values(repeat(char(65+23),65550-23));
insert into t1 (b) values(repeat(char(65+22),65550-22));
insert into t1 (b) values(repeat(char(65+21),65550-21));
insert into t1 (b) values(repeat(char(65+20),65550-20));
insert into t1 (b) values(repeat(char(65+19),65550-19));
insert into t1 (b) values(repeat(char(65+18),65550-18));
insert into t1 (b) values(repeat(char(65+17),65550-17));
insert into t1 (b) values(repeat(char(65+16),65550-16));
insert into t1 (b) values(repeat(char(65+15),65550-15));
insert into t1 (b) values(repeat(char(65+14),65550-14));
insert into t1 (b) values(repeat(char(65+13),65550-13));
insert into t1 (b) values(repeat(char(65+12),65550-12));
insert into t1 (b) values(repeat(char(65+11),65550-11));
insert into t1 (b) values(repeat(char(65+10),65550-10));
insert into t1 (b) values(repeat(char(65+9),65550-9));
insert into t1 (b) values(repeat(char(65+8),65550-8));
insert into t1 (b) values(repeat(char(65+7),65550-7));
insert into t1 (b) values(repeat(char(65+6),65550-6));
insert into t1 (b) values(repeat(char(65+5),65550-5));
insert into t1 (b) values(repeat(char(65+4),65550-4));
insert into t1 (b) values(repeat(char(65+3),65550-3));
insert into t1 (b) values(repeat(char(65+2),65550-2));
insert into t1 (b) values(repeat(char(65+1),65550-1));
SET SQL_WARNINGS=1;
check table t1;
repair table t1;
delete from t1 where (a & 1);
check table t1;
repair table t1;
check table t1;
drop table t1;
create table t1 (a int not null auto_increment, b int not null, primary key (a), index(b));
insert into t1 (b) values (1),(2),(2),(2),(2);
analyze table t1;
optimize table t1;
show index from t1;
analyze table t1;
optimize table t1;
show index from t1;
drop table t1;
create table t1 (a int not null, b int not null, c int not null, primary key (a),key(b)) engine=myisam;
insert into t1 values (3,3,3),(1,1,1),(2,2,2),(4,4,4);
explain select * from t1 order by a;
explain select * from t1 order by b;
explain select * from t1 order by c;
explain select a from t1 order by a;
explain select b from t1 order by b;
explain select a,b from t1 order by b;
explain select a,b from t1;
explain select a,b,c from t1;
drop table t1;
CREATE TABLE t1 (a INT);
INSERT INTO  t1 VALUES (1), (2), (3);
LOCK TABLES t1 WRITE;
INSERT INTO  t1 VALUES (1), (2), (3);
OPTIMIZE TABLE t1;
DROP TABLE t1;
create table t1 ( t1 char(255), key(t1(250)));
insert t1 values ('137513751375137513751375137513751375137569516951695169516951695169516951695169');
insert t1 values ('178417841784178417841784178417841784178403420342034203420342034203420342034203');
insert t1 values ('213872387238723872387238723872387238723867376737673767376737673767376737673767');
insert t1 values ('242624262426242624262426242624262426242607890789078907890789078907890789078907');
insert t1 values ('256025602560256025602560256025602560256011701170117011701170117011701170117011');
insert t1 values ('276027602760276027602760276027602760276001610161016101610161016101610161016101');
insert t1 values ('281528152815281528152815281528152815281564956495649564956495649564956495649564');
insert t1 values ('292129212921292129212921292129212921292102100210021002100210021002100210021002');
insert t1 values ('380638063806380638063806380638063806380634483448344834483448344834483448344834');
insert t1 values ('411641164116411641164116411641164116411616301630163016301630163016301630163016');
insert t1 values ('420842084208420842084208420842084208420899889988998899889988998899889988998899');
insert t1 values ('438443844384438443844384438443844384438482448244824482448244824482448244824482');
insert t1 values ('443244324432443244324432443244324432443239613961396139613961396139613961396139');
insert t1 values ('485448544854485448544854485448544854485477847784778477847784778477847784778477');
insert t1 values ('494549454945494549454945494549454945494555275527552755275527552755275527552755');
insert t1 values ('538647864786478647864786478647864786478688918891889188918891889188918891889188');
insert t1 values ('565556555655565556555655565556555655565554845484548454845484548454845484548454');
insert t1 values ('607860786078607860786078607860786078607856665666566656665666566656665666566656');
insert t1 values ('640164016401640164016401640164016401640141274127412741274127412741274127412741');
insert t1 values ('719471947194719471947194719471947194719478717871787178717871787178717871787178');
insert t1 values ('742574257425742574257425742574257425742549604960496049604960496049604960496049');
insert t1 values ('887088708870887088708870887088708870887035963596359635963596359635963596359635');
insert t1 values ('917791779177917791779177917791779177917773857385738573857385738573857385738573');
insert t1 values ('933293329332933293329332933293329332933278987898789878987898789878987898789878');
insert t1 values ('963896389638963896389638963896389638963877807780778077807780778077807780778077');
delete from t1 where t1>'2';
insert t1 values ('70'), ('84'), ('60'), ('20'), ('76'), ('89'), ('49'), ('50'), ('88'), ('61'), ('42'), ('98'), ('39'), ('30'), ('25'), ('66'), ('61'), ('48'), ('80'), ('84'), ('98'), ('19'), ('91'), ('42'), ('47');
optimize table t1;
check table t1;
drop table t1;
update t1 set b=repeat('a',256);
update t1 set i1=0, i2=0, i3=0, i4=0, i5=0, i6=0, i7=0;
check table t1;
delete from t1 where i8=1;
select i1,i2 from t1;
check table t1;
drop table t1;
CREATE TABLE `t1` ( `post_id` mediumint(8) unsigned NOT NULL auto_increment, `topic_id` mediumint(8) unsigned NOT NULL default '0', `post_time` datetime NOT NULL default '0000-00-00 00:00:00', `post_text` text NOT NULL, `icon_url` varchar(10) NOT NULL default '', `sign` tinyint(1) unsigned NOT NULL default '0', `post_edit` varchar(150) NOT NULL default '', `poster_login` varchar(35) NOT NULL default '', `ip` varchar(15) NOT NULL default '', PRIMARY KEY  (`post_id`), KEY `post_time` (`post_time`), KEY `ip` (`ip`), KEY `poster_login` (`poster_login`), KEY `topic_id` (`topic_id`), FULLTEXT KEY `post_text` (`post_text`) ) ENGINE=MyISAM;
INSERT INTO t1 (post_text) VALUES ('ceci est un test'),('ceci est un test'),('ceci est un test'),('ceci est un test'),('ceci est un test');
REPAIR TABLE t1;
CHECK TABLE t1;
drop table t1;
CREATE TABLE t1 (a varchar(255), b varchar(255), c varchar(255), d varchar(255), e varchar(255), KEY t1 (a, b, c, d, e));
CREATE TABLE t1 (a varchar(255), b varchar(255), c varchar(255), d varchar(255), e varchar(255));
ALTER TABLE t1 ADD INDEX t1 (a, b, c, d, e);
DROP TABLE t1;
CREATE TABLE t1 (a int not null, b int, c int, key(b), key(c), key(a,b), key(c,a));
INSERT into t1 values (0, null, 0), (0, null, 1), (0, null, 2), (0, null,3), (1,1,4);
create table t2 (a int not null, b int, c int, key(b), key(c), key(a));
INSERT into t2 values (1,1,1), (2,2,2);
optimize table t1;
analyze table t1;
show index from t1;
explain select * from t1,t2 where t1.a=t2.a;
explain select * from t1,t2 force index(a) where t1.a=t2.a;
explain select * from t1 force index(a),t2 force index(a) where t1.a=t2.a;
explain select * from t1,t2 where t1.b=t2.b;
explain select * from t1,t2 force index(c) where t1.a=t2.a;
explain select * from t1 where a=0 or a=2;
explain select * from t1 force index (a) where a=0 or a=2;
explain select * from t1 where c=1;
explain select * from t1 use index() where c=1;
drop table t1,t2;
create table t1 (a int not null auto_increment primary key, b varchar(255));
insert into t1 (b) values (repeat('a',100)),(repeat('b',100)),(repeat('c',100));
update t1 set b=repeat(left(b,1),200) where a=1;
delete from t1 where (a & 1)= 0;
update t1 set b=repeat('e',200) where a=1;
flush tables;
check table t1;
insert into t1 (b) values (repeat(char((100 & 32)+65), 100));
insert into t1 (b) values (repeat(char((99 & 32)+65), 99));
insert into t1 (b) values (repeat(char((98 & 32)+65), 98));
insert into t1 (b) values (repeat(char((97 & 32)+65), 97));
insert into t1 (b) values (repeat(char((96 & 32)+65), 96));
insert into t1 (b) values (repeat(char((95 & 32)+65), 95));
insert into t1 (b) values (repeat(char((94 & 32)+65), 94));
insert into t1 (b) values (repeat(char((93 & 32)+65), 93));
insert into t1 (b) values (repeat(char((92 & 32)+65), 92));
insert into t1 (b) values (repeat(char((91 & 32)+65), 91));
insert into t1 (b) values (repeat(char((90 & 32)+65), 90));
insert into t1 (b) values (repeat(char((89 & 32)+65), 89));
insert into t1 (b) values (repeat(char((88 & 32)+65), 88));
insert into t1 (b) values (repeat(char((87 & 32)+65), 87));
insert into t1 (b) values (repeat(char((86 & 32)+65), 86));
insert into t1 (b) values (repeat(char((85 & 32)+65), 85));
insert into t1 (b) values (repeat(char((84 & 32)+65), 84));
insert into t1 (b) values (repeat(char((83 & 32)+65), 83));
insert into t1 (b) values (repeat(char((82 & 32)+65), 82));
insert into t1 (b) values (repeat(char((81 & 32)+65), 81));
insert into t1 (b) values (repeat(char((80 & 32)+65), 80));
insert into t1 (b) values (repeat(char((79 & 32)+65), 79));
insert into t1 (b) values (repeat(char((78 & 32)+65), 78));
insert into t1 (b) values (repeat(char((77 & 32)+65), 77));
insert into t1 (b) values (repeat(char((76 & 32)+65), 76));
insert into t1 (b) values (repeat(char((75 & 32)+65), 75));
insert into t1 (b) values (repeat(char((74 & 32)+65), 74));
insert into t1 (b) values (repeat(char((73 & 32)+65), 73));
insert into t1 (b) values (repeat(char((72 & 32)+65), 72));
insert into t1 (b) values (repeat(char((71 & 32)+65), 71));
insert into t1 (b) values (repeat(char((70 & 32)+65), 70));
insert into t1 (b) values (repeat(char((69 & 32)+65), 69));
insert into t1 (b) values (repeat(char((68 & 32)+65), 68));
insert into t1 (b) values (repeat(char((67 & 32)+65), 67));
insert into t1 (b) values (repeat(char((66 & 32)+65), 66));
insert into t1 (b) values (repeat(char((65 & 32)+65), 65));
insert into t1 (b) values (repeat(char((64 & 32)+65), 64));
insert into t1 (b) values (repeat(char((63 & 32)+65), 63));
insert into t1 (b) values (repeat(char((62 & 32)+65), 62));
insert into t1 (b) values (repeat(char((61 & 32)+65), 61));
insert into t1 (b) values (repeat(char((60 & 32)+65), 60));
insert into t1 (b) values (repeat(char((59 & 32)+65), 59));
insert into t1 (b) values (repeat(char((58 & 32)+65), 58));
insert into t1 (b) values (repeat(char((57 & 32)+65), 57));
insert into t1 (b) values (repeat(char((56 & 32)+65), 56));
insert into t1 (b) values (repeat(char((55 & 32)+65), 55));
insert into t1 (b) values (repeat(char((54 & 32)+65), 54));
insert into t1 (b) values (repeat(char((53 & 32)+65), 53));
insert into t1 (b) values (repeat(char((52 & 32)+65), 52));
insert into t1 (b) values (repeat(char((51 & 32)+65), 51));
insert into t1 (b) values (repeat(char((50 & 32)+65), 50));
insert into t1 (b) values (repeat(char((49 & 32)+65), 49));
insert into t1 (b) values (repeat(char((48 & 32)+65), 48));
insert into t1 (b) values (repeat(char((47 & 32)+65), 47));
insert into t1 (b) values (repeat(char((46 & 32)+65), 46));
insert into t1 (b) values (repeat(char((45 & 32)+65), 45));
insert into t1 (b) values (repeat(char((44 & 32)+65), 44));
insert into t1 (b) values (repeat(char((43 & 32)+65), 43));
insert into t1 (b) values (repeat(char((42 & 32)+65), 42));
insert into t1 (b) values (repeat(char((41 & 32)+65), 41));
insert into t1 (b) values (repeat(char((40 & 32)+65), 40));
insert into t1 (b) values (repeat(char((39 & 32)+65), 39));
insert into t1 (b) values (repeat(char((38 & 32)+65), 38));
insert into t1 (b) values (repeat(char((37 & 32)+65), 37));
insert into t1 (b) values (repeat(char((36 & 32)+65), 36));
insert into t1 (b) values (repeat(char((35 & 32)+65), 35));
insert into t1 (b) values (repeat(char((34 & 32)+65), 34));
insert into t1 (b) values (repeat(char((33 & 32)+65), 33));
insert into t1 (b) values (repeat(char((32 & 32)+65), 32));
insert into t1 (b) values (repeat(char((31 & 32)+65), 31));
insert into t1 (b) values (repeat(char((30 & 32)+65), 30));
insert into t1 (b) values (repeat(char((29 & 32)+65), 29));
insert into t1 (b) values (repeat(char((28 & 32)+65), 28));
insert into t1 (b) values (repeat(char((27 & 32)+65), 27));
insert into t1 (b) values (repeat(char((26 & 32)+65), 26));
insert into t1 (b) values (repeat(char((25 & 32)+65), 25));
insert into t1 (b) values (repeat(char((24 & 32)+65), 24));
insert into t1 (b) values (repeat(char((23 & 32)+65), 23));
insert into t1 (b) values (repeat(char((22 & 32)+65), 22));
insert into t1 (b) values (repeat(char((21 & 32)+65), 21));
insert into t1 (b) values (repeat(char((20 & 32)+65), 20));
insert into t1 (b) values (repeat(char((19 & 32)+65), 19));
insert into t1 (b) values (repeat(char((18 & 32)+65), 18));
insert into t1 (b) values (repeat(char((17 & 32)+65), 17));
insert into t1 (b) values (repeat(char((16 & 32)+65), 16));
insert into t1 (b) values (repeat(char((15 & 32)+65), 15));
insert into t1 (b) values (repeat(char((14 & 32)+65), 14));
insert into t1 (b) values (repeat(char((13 & 32)+65), 13));
insert into t1 (b) values (repeat(char((12 & 32)+65), 12));
insert into t1 (b) values (repeat(char((11 & 32)+65), 11));
insert into t1 (b) values (repeat(char((10 & 32)+65), 10));
insert into t1 (b) values (repeat(char((9 & 32)+65), 9));
insert into t1 (b) values (repeat(char((8 & 32)+65), 8));
insert into t1 (b) values (repeat(char((7 & 32)+65), 7));
insert into t1 (b) values (repeat(char((6 & 32)+65), 6));
insert into t1 (b) values (repeat(char((5 & 32)+65), 5));
insert into t1 (b) values (repeat(char((4 & 32)+65), 4));
insert into t1 (b) values (repeat(char((3 & 32)+65), 3));
insert into t1 (b) values (repeat(char((2 & 32)+65), 2));
insert into t1 (b) values (repeat(char((1 & 32)+65), 1));
update t1 set b=repeat(left(b,1),255) where a between 1 and 5;
update t1 set b=repeat(left(b,1),10) where a between 32 and 43;
update t1 set b=repeat(left(b,1),2) where a between 64 and 66;
update t1 set b=repeat(left(b,1),65) where a between 67 and 70;
check table t1;
insert into t1 (b) values (repeat('z',100));
update t1 set b="test" where left(b,1) > 'n';
check table t1;
drop table t1;
create table t1 ( a text collate latin1_swedish_ci not null, key a (a(20)));
insert into t1 values ('aaa   '),('aaa'),('aa');
check table t1;
repair table t1;
select concat(a,'.') from t1 where a='aaa';
select concat(a,'.') from t1 where binary a='aaa';
update t1 set a='bbb' where a='aaa';
select concat(a,'.') from t1;
drop table t1;
create table t1(a text not null, b text not null, c text not null, index (a(10),b(10),c(10)));
insert into t1 values('807780', '477', '165');
insert into t1 values('807780', '477', '162');
insert into t1 values('807780', '472', '162');
select * from t1 where a='807780' and b='477' and c='165';
drop table t1;
CREATE TABLE t1 (a varchar(150) NOT NULL, KEY (a)) charset latin1;
INSERT t1 VALUES ("can \tcan");
INSERT t1 VALUES ("can   can");
INSERT t1 VALUES ("can");
SELECT * FROM t1;
CHECK TABLE t1;
DROP TABLE t1;
create table t1 (a blob);
insert into t1 values('a '),('a');
select concat(a,'.') from t1 where a='a';
select concat(a,'.') from t1 where a='a ';
alter table t1 add key(a(2));
select concat(a,'.') from t1 where a='a';
select concat(a,'.') from t1 where a='a ';
drop table t1;
create table t1 (a int not null auto_increment primary key, b text not null, unique b (b(20)));
insert into t1 (b) values ('a'),('b'),('c');
select concat(b,'.') from t1;
update t1 set b='b\b' where a=2;
update t1 set b='B' where a > 1;
insert into t1 (b) values ('b');
select * from t1;
delete from t1 where b='b';
select a,concat(b,'.') from t1;
drop table t1;
create table t1 (a int not null);
create table t2 (a int not null, primary key (a));
insert into t1 values (1);
insert into t2 values (1),(2);
set @previous_sql_mode_htnt542nh=@@sql_mode;
set sql_mode=(select replace(@@sql_mode,'ONLY_FULL_GROUP_BY',''));
select sql_big_result distinct t1.a from t1,t2 order by t2.a;
FLUSH STATUS;
select distinct t1.a from t1,t2 order by t2.a;
SHOW SESSION STATUS LIKE 'Sort_scan%';
select sql_big_result distinct t1.a from t1,t2;
explain select sql_big_result distinct t1.a from t1,t2 order by t2.a;
explain select distinct t1.a from t1,t2 order by t2.a;
set @@sql_mode=@previous_sql_mode_htnt542nh;
drop table t1,t2;
create table t1 ( c1 varchar(32), key (c1) ) engine=myisam;
alter table t1 disable keys;
insert into t1 values ('a'), ('b');
select c1 from t1 order by c1 limit 1;
drop table t1;
create table t1 (a int not null, primary key(a));
create table t2 (a int not null, b int not null, primary key(a,b));
insert into t1 values (1),(2),(3),(4),(5),(6);
insert into t2 values (1,1),(2,1);
lock tables t1 read local, t2 read local;
select straight_join * from t1,t2 force index (primary) where t1.a=t2.a;
insert into t2 values(2,0);
select straight_join * from t1,t2 force index (primary) where t1.a=t2.a;
unlock tables;
drop table t1,t2;
CREATE TABLE t1 (c1 varchar(250) NOT NULL);
CREATE TABLE t2 (c1 varchar(250) NOT NULL, PRIMARY KEY (c1));
INSERT INTO t1 VALUES ('test000001'), ('test000002'), ('test000003');
INSERT INTO t2 VALUES ('test000002'), ('test000003'), ('test000004');
LOCK TABLES t1 READ LOCAL, t2 READ LOCAL;
SELECT t1.c1 AS t1c1, t2.c1 AS t2c1 FROM t1, t2 WHERE t1.c1 = t2.c1 HAVING t1c1 != t2c1;
INSERT INTO t2 VALUES ('test000001'), ('test000005');
SELECT t1.c1 AS t1c1, t2.c1 AS t2c1 FROM t1, t2 WHERE t1.c1 = t2.c1 HAVING t1c1 != t2c1;
UNLOCK TABLES;
DROP TABLE t1,t2;
CREATE TABLE t1 (`a` int(11) NOT NULL default '0', `b` int(11) NOT NULL default '0', UNIQUE KEY `a` USING RTREE (`a`,`b`)) ENGINE=MyISAM;
create table t1 (a int, b varchar(200), c text not null) checksum=1;
create table t2 (a int, b varchar(200), c text not null) checksum=0;
insert t1 values (1, "aaa", "bbb"), (NULL, "", "ccccc"), (0, NULL, "");
insert t2 select * from t1;
checksum table t1, t2, t3 quick;
checksum table t1, t2, t3;
checksum table t1, t2, t3 extended;
drop table t1,t2;
create table t1 (a int, key (a));
analyze table t1;
show keys from t1;
alter table t1 disable keys;
analyze table t1;
show keys from t1;
create table t2 (a int);
set @@rand_seed1=31415926,@@rand_seed2=2718281828;
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t2 values (rand()*100000);
insert t1 select * from t2;
analyze table t1;
show keys from t1;
alter table t1 enable keys;
analyze table t1;
show keys from t1;
alter table t1 engine=heap;
alter table t1 disable keys;
analyze table t1;
show keys from t1;
drop table t1,t2;
create table t1 ( a tinytext, b char(1), index idx (a(1),b) );
insert into t1 values (null,''), (null,'');
explain select count(*) from t1 where a is null;
select count(*) from t1 where a is null;
drop table t1;
create table t1 (c1 int, c2 varchar(4) not null default '', key(c2(3))) default charset=utf8;
insert into t1 values (1,'A'), (2, 'B'), (3, 'A');
update t1 set c2='A  B' where c1=2;
check table t1;
drop table t1;
create table t1 (c1 int);
insert into t1 values (1),(2),(3),(4);
checksum table t1;
delete from t1 where c1 = 1;
create table t2 as select * from t1;
checksum table t1;
checksum table t2;
drop table t1, t2;
show variables like 'myisam_stats_method';
create table t1 (a int, key(a));
insert into t1 values (0),(1),(2),(3),(4);
insert into t1 select NULL from t1;
analyze table t1;
show index from t1;
insert into t1 values (11);
delete from t1 where a=11;
check table t1;
analyze table t1;
show index from t1;
set myisam_stats_method=nulls_equal;
show variables like 'myisam_stats_method';
insert into t1 values (11);
delete from t1 where a=11;
analyze table t1;
show index from t1;
insert into t1 values (11);
delete from t1 where a=11;
check table t1;
analyze table t1;
show index from t1;
set myisam_stats_method=DEFAULT;
show variables like 'myisam_stats_method';
insert into t1 values (11);
delete from t1 where a=11;
analyze table t1;
show index from t1;
insert into t1 values (11);
delete from t1 where a=11;
check table t1;
analyze table t1;
show index from t1;
drop table t1;
set myisam_stats_method=nulls_ignored;
show variables like 'myisam_stats_method';
create table t1 ( a char(3), b char(4), c char(5), d char(6), key(a,b,c,d) );
insert into t1 values ('bcd','def1', NULL, 'zz');
insert into t1 values ('bcd','def2', NULL, 'zz');
insert into t1 values ('bce','def1', 'yuu', NULL);
insert into t1 values ('bce','def2', NULL, 'quux');
analyze table t1;
show index from t1;
delete from t1;
analyze table t1;
show index from t1;
set myisam_stats_method=DEFAULT;
drop table t1;
create table t1( cip INT NOT NULL, time TIME NOT NULL, score INT NOT NULL DEFAULT 0, bob TINYBLOB );
insert into t1 (cip, time) VALUES (1, '00:01'), (2, '00:02'), (3,'00:03');
insert into t1 (cip, bob, time) VALUES (4, 'a', '00:04'), (5, 'b', '00:05'),  (6, 'c', '00:06');
select * from t1 where bob is null and cip=1;
create index bug on t1 (bob(22), cip, time);
select * from t1 where bob is null and cip=1;
drop table t1;
create table t1 ( id1 int not null auto_increment, id2 int not null default '0', t text not null, primary key  (id1), key x (id2, t(32)) ) engine=myisam;
insert into t1 (id2, t) values (10, 'abc'), (10, 'abc'), (10, 'abc'), (20, 'abc'), (20, 'abc'), (20, 'def'), (10, 'abc'), (10, 'abc');
select count(*)   from t1 where id2 = 10;
select count(id1) from t1 where id2 = 10;
drop table t1;
CREATE TABLE t1(a TINYINT, KEY(a)) ENGINE=MyISAM;
INSERT INTO t1 VALUES(1);
SELECT MAX(a) FROM t1 IGNORE INDEX(a);
ALTER TABLE t1 DISABLE KEYS;
SELECT MAX(a) FROM t1;
SELECT MAX(a) FROM t1 IGNORE INDEX(a);
DROP TABLE t1;
CREATE TABLE t1(a CHAR(9), b VARCHAR(7)) ENGINE=MyISAM;
INSERT INTO t1(a) VALUES('xxxxxxxxx'),('xxxxxxxxx');
UPDATE t1 AS ta1,t1 AS ta2 SET ta1.b='aaaaaa',ta2.b='bbbbbb';
SELECT * FROM t1;
DROP TABLE t1;
SET @@myisam_repair_threads=2;
SHOW VARIABLES LIKE 'myisam_repair%';
CREATE TABLE t1 ( `_id` int(11) NOT NULL default '0', `url` text, `email` text, `description` text, `loverlap` int(11) default NULL, `roverlap` int(11) default NULL, `lneighbor_id` int(11) default NULL, `rneighbor_id` int(11) default NULL, `length_` int(11) default NULL, `sequence` mediumtext, `name` text, `_obj_class` text NOT NULL, PRIMARY KEY  (`_id`), UNIQUE KEY `sequence_name_index` (`name`(50)), KEY (`length_`) ) ENGINE=MyISAM DEFAULT CHARSET=latin1;
INSERT INTO t1 VALUES (1,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample1',''), (2,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample2',''), (3,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample3',''), (4,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample4',''), (5,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample5',''), (6,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample6',''), (7,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample7',''), (8,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample8',''), (9,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample9','');
SELECT _id FROM t1;
DELETE FROM t1 WHERE _id < 8;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
CHECK TABLE t1 EXTENDED;
OPTIMIZE TABLE t1;
CHECK TABLE t1 EXTENDED;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
SELECT _id FROM t1;
DROP TABLE t1;
CREATE TABLE t1 ( `_id` int(11) NOT NULL default '0', `url` text, `email` text, `description` text, `loverlap` int(11) default NULL, `roverlap` int(11) default NULL, `lneighbor_id` int(11) default NULL, `rneighbor_id` int(11) default NULL, `length_` int(11) default NULL, `sequence` mediumtext, `name` text, `_obj_class` text NOT NULL, PRIMARY KEY  (`_id`), UNIQUE KEY `sequence_name_index` (`name`(50)), KEY (`length_`) ) ENGINE=MyISAM DEFAULT CHARSET=latin1;
INSERT INTO t1 VALUES (1,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample1',''), (2,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample2',''), (3,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample3',''), (4,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample4',''), (5,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample5',''), (6,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample6',''), (7,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample7',''), (8,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample8',''), (9,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'sample9','');
SELECT _id FROM t1;
DELETE FROM t1 WHERE _id < 8;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
CHECK TABLE t1 EXTENDED;
REPAIR TABLE t1 QUICK;
CHECK TABLE t1 EXTENDED;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
SELECT _id FROM t1;
DROP TABLE t1;
SET @@myisam_repair_threads=1;
SHOW VARIABLES LIKE 'myisam_repair%';
CREATE TABLE t1(a VARCHAR(16));
INSERT INTO t1 VALUES('aaaaaaaa'),(NULL);
UPDATE t1 AS ta1, t1 AS ta2 SET ta1.a='aaaaaaaaaaaaaaaa';
SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES(1),(2);
UPDATE t1,t1 AS t2 SET t1.a=t1.a+2 WHERE t1.a=t2.a-1;
SELECT * FROM t1 ORDER BY a;
DROP TABLE t1;
CREATE TABLE t1 (c1 TEXT) AVG_ROW_LENGTH=70100 MAX_ROWS=4100100100;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
DROP TABLE t1;
CREATE TABLE t1 (c1 TEXT NOT NULL, KEY c1 (c1(10))) charset latin1 ENGINE=MyISAM;
SELECT DISTINCT COUNT(*) FROM t1 WHERE c1 = '';
SELECT DISTINCT length(c1), c1 FROM t1 WHERE c1 = '';
SELECT DISTINCT COUNT(*) FROM t1 IGNORE INDEX (c1) WHERE c1 = '';
SELECT DISTINCT length(c1), c1 FROM t1 IGNORE INDEX (c1) WHERE c1 = '';
SELECT DISTINCT length(c1), c1 FROM t1 ORDER BY c1;
DROP TABLE t1;
set default_storage_engine=MyISAM;
drop table if exists t1,t2,t3;
select "--- Testing varchar ---";
create table t1 (v varchar(10), c char(10), t text);
insert into t1 values('+ ', '+ ', '+ ');
set @a=repeat(' ',20);
insert into t1 values (concat('+',@a),concat('+',@a),concat('+',@a));
select concat('*',v,'*',c,'*',t,'*') from t1;
show create table t1;
create table t2 like t1;
show create table t2;
create table t3 select * from t1;
show create table t3;
alter table t1 modify c varchar(10);
show create table t1;
alter table t1 modify v char(10);
show create table t1;
alter table t1 modify t varchar(10);
show create table t1;
select concat('*',v,'*',c,'*',t,'*') from t1;
drop table t1,t2,t3;
create table t1 (v varchar(10), c char(10), t text, key(v), key(c), key(t(10))) stats_persistent=0 charset latin1;
show create table t1;
set @space=repeat(' ',10-10);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-9);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-8);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-7);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-6);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-5);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-4);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-3);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-2);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @space=repeat(' ',10-1);
set @char=char(ascii('a')+27-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+26-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+25-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+24-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+23-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+22-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+21-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+20-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+19-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+18-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+17-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+16-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+15-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+14-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+13-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+12-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+11-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+10-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+9-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+8-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+7-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+6-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+5-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+4-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+3-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+2-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
set @char=char(ascii('a')+1-1);
insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space));
select count(*) from t1;
insert into t1 values(concat('a',char(1)),concat('a',char(1)),concat('a',char(1)));
select count(*) from t1 where v='a';
select count(*) from t1 where c='a';
select count(*) from t1 where t='a';
select count(*) from t1 where v='a  ';
select count(*) from t1 where c='a  ';
select count(*) from t1 where t='a  ';
select count(*) from t1 where v between 'a' and 'a ';
select count(*) from t1 where v between 'a' and 'a ' and v between 'a  ' and 'b\n';
select count(*) from t1 where v like 'a%';
select count(*) from t1 where c like 'a%';
select count(*) from t1 where t like 'a%';
select count(*) from t1 where v like 'a %';
explain select count(*) from t1 where v='a  ';
explain select count(*) from t1 where c='a  ';
explain select count(*) from t1 where t='a  ';
explain select count(*) from t1 where v like 'a%';
explain select count(*) from t1 where v between 'a' and 'a ';
explain select count(*) from t1 where v between 'a' and 'a ' and v between 'a  ' and 'b\n';
alter table t1 add unique(v);
alter table t1 add key(v);
select concat('*',v,'*',c,'*',t,'*') as qq from t1 where v='a';
explain select * from t1 where v='a';
select TRIM(v),count(*) from t1 group by TRIM(v) order by TRIM(v) limit 10;
select TRIM(v),count(t) from t1 group by TRIM(v) order by TRIM(v) limit 10;
select TRIM(v),count(c) from t1 group by TRIM(v) order by TRIM(v) limit 10;
select sql_big_result TRIM(v),count(t) from t1 group by TRIM(v) order by TRIM(v) limit 10;
select sql_big_result TRIM(v),count(c) from t1 group by TRIM(v) order by TRIM(v) limit 10;
select c,count(*) from t1 group by c order by c limit 10;
select c,count(t) from t1 group by c order by c limit 10;
select sql_big_result c,count(t) from t1 group by c limit 10;
select TRIM(t),count(*) from t1 group by TRIM(t) order by TRIM(t) limit 10;
select TRIM(t),count(t) from t1 group by TRIM(t) order by TRIM(t) limit 10;
select sql_big_result TRIM(t),count(t) from t1 group by TRIM(t) order by TRIM(t) limit 10;
alter table t1 modify v varchar(300), drop key v, drop key v_2, add key v (v);
show create table t1;
select count(*) from t1 where v='a';
select count(*) from t1 where v='a  ';
select count(*) from t1 where v between 'a' and 'a ';
select count(*) from t1 where v between 'a' and 'a ' and v between 'a  ' and 'b\n';
select count(*) from t1 where v like 'a%';
select count(*) from t1 where v like 'a %';
explain select count(*) from t1 where v='a  ';
explain select count(*) from t1 where v like 'a%';
explain select count(*) from t1 where v between 'a' and 'a ';
explain select count(*) from t1 where v between 'a' and 'a ' and v between 'a  ' and 'b\n';
explain select * from t1 where v='a';
select v,count(*) from t1 group by v order by v limit 10;
select TRIM(v),count(t) from t1 group by v order by v limit 10;
select sql_big_result TRIM(v),count(t) from t1 group by v order by v limit 10;
alter table t1 drop key v, add key v (v(30));
show create table t1;
select count(*) from t1 where v='a';
select count(*) from t1 where v='a  ';
select count(*) from t1 where v between 'a' and 'a ';
select count(*) from t1 where v between 'a' and 'a ' and v between 'a  ' and 'b\n';
select count(*) from t1 where v like 'a%';
select count(*) from t1 where v like 'a %';
explain select count(*) from t1 where v='a  ';
explain select count(*) from t1 where v like 'a%';
explain select count(*) from t1 where v between 'a' and 'a ';
explain select count(*) from t1 where v between 'a' and 'a ' and v between 'a  ' and 'b\n';
explain select * from t1 where v='a';
select TRIM(v),count(*) from t1 group by v order by v limit 10;
select TRIM(v),count(t) from t1 group by v order by v limit 10;
select sql_big_result TRIM(v),count(t) from t1 group by v order by v limit 10;
alter table t1 modify v varchar(600), drop key v, add key v (v);
show create table t1;
select TRIM(v),count(*) from t1 group by v order by v limit 10;
select TRIM(v),count(t) from t1 group by v order by v limit 10;
select sql_big_result TRIM(v),count(t) from t1 group by v order by v limit 10;
drop table t1;
SET NAMES utf8mb4;
create table t1 (a char(10), unique (a));
insert into t1 values ('a   ');
insert into t1 values ('a ');
alter table t1 modify a varchar(10);
insert into t1 values ('a'),(''),(''),('');
insert into t1 values ('');
insert into t1 values ('A');
insert into t1 values ('');
update t1 set a='a  ' where a like 'a%';
select concat(a,'.') from t1;
update t1 set a='abc    ' where a like 'a ';
select concat(a,'.') from t1;
update t1 set a='a      ' where a like 'a %';
select concat(a,'.') from t1;
update t1 set a='a  ' where a like 'a      ';
select concat(a,'.') from t1;
drop table t1;
SET NAMES DEFAULT;
create table t1 (v varchar(10), c char(10), t text, key(v(5)), key(c(5)), key(t(5)));
show create table t1;
drop table t1;
create table t1 (v char(10) character set utf8);
show create table t1;
drop table t1;
create table t1 (v varchar(10), c char(10)) row_format=fixed;
show create table t1;
insert into t1 values('a','a'),('a ','a ');
select concat('*',v,'*',c,'*') from t1;
drop table t1;
create table t1 (v varchar(65530), key(v(10))) charset latin1;
insert into t1 values(repeat('a',65530));
select length(v) from t1 where v=repeat('a',65530);
drop table t1;
create table t1(a int, b varchar(12), key ba(b, a));
insert into t1 values (1, 'A'), (20, NULL);
explain select * from t1 where a=20 and b is null;
select * from t1 where a=20 and b is null;
drop table t1;
create table t1 (v varchar(65530), key(v)) charset latin1;
drop table if exists t1;
create table t1 (v varchar(65536));
show create table t1;
drop table t1;
create table t1 (v varchar(65530) character set utf8);
show create table t1;
drop table t1;
create table t1 (v varchar(65535)) charset latin1;
set default_storage_engine=MyISAM;
set @save_concurrent_insert=@@concurrent_insert;
set global concurrent_insert=1;
create table t1 (a int);
insert into t1 values (1),(2),(3),(4),(5);
lock table t1 read local;
insert into t1 values(6),(7);
unlock tables;
delete from t1 where a>=3 and a<=4;
lock table t1 read local;
set global concurrent_insert=2;
insert into t1 values (8),(9);
unlock tables;
insert into t1 values (10),(11),(12);
select * from t1;
check table t1;
drop table t1;
create table t1 (a int, b varchar(30) default "hello");
insert into t1 (a) values (1),(2),(3),(4),(5);
lock table t1 read local;
insert into t1 (a) values(6),(7);
unlock tables;
delete from t1 where a>=3 and a<=4;
lock table t1 read local;
set global concurrent_insert=2;
insert into t1 (a) values (8),(9);
unlock tables;
insert into t1 (a) values (10),(11),(12);
select a from t1;
check table t1;
drop table t1;
set global concurrent_insert=@save_concurrent_insert;
create table t1 (a int, key(a));
insert into t1 values (1),(2),(3),(4),(NULL),(NULL),(NULL),(NULL);
analyze table t1;
show keys from t1;
alter table t1 disable keys;
alter table t1 enable keys;
analyze table t1;
show keys from t1;
drop table t1;
create table t1 (c1 int) engine=myisam pack_keys=0;
create table t2 (c1 int) engine=myisam pack_keys=1;
create table t3 (c1 int) engine=myisam pack_keys=default;
create table t4 (c1 int) engine=myisam pack_keys=2;
drop table t1, t2, t3;
CREATE TABLE t1(a INT, b INT, KEY inx (a), UNIQUE KEY uinx (b)) ENGINE=MyISAM;
INSERT INTO t1(a,b) VALUES (1,1),(2,2),(3,3),(4,4),(5,5);
SELECT a FROM t1 FORCE INDEX (inx) WHERE a=1;
ALTER TABLE t1 DISABLE KEYS;
SELECT a FROM t1 FORCE INDEX (inx) WHERE a=1;
SELECT a FROM t1 USE INDEX (inx) WHERE a=1;
SELECT b FROM t1 FORCE INDEX (uinx) WHERE b=1;
SELECT b FROM t1 USE INDEX (uinx) WHERE b=1;
SELECT a FROM t1 FORCE INDEX (inx,uinx) WHERE a=1;
ALTER TABLE t1 ENABLE KEYS;
SELECT a FROM t1 FORCE INDEX (inx) WHERE a=1;
DROP TABLE t1;
CREATE TABLE t1 (c1 INT, c2 INT, UNIQUE INDEX (c1), INDEX (c2)) ENGINE=MYISAM;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
INSERT INTO t1 VALUES (1,1);
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
ALTER TABLE t1 DISABLE KEYS;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
ALTER TABLE t1 ENABLE KEYS;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
ALTER TABLE t1 DISABLE KEYS;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
ALTER TABLE t1 ENABLE KEYS;
ANALYZE TABLE t1;
SHOW TABLE STATUS LIKE 't1';
SET @@myisam_repair_threads=2;
ALTER TABLE t1 DISABLE KEYS;
ALTER TABLE t1 ENABLE KEYS;
SET @@myisam_repair_threads=1;
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
CREATE TABLE t1 (id int NOT NULL, ref int NOT NULL, INDEX (id)) ENGINE=MyISAM;
CREATE TABLE t2 LIKE t1;
INSERT INTO t2 (id, ref) VALUES (1,3), (2,1), (3,2), (4,5), (4,4);
INSERT INTO t1 SELECT * FROM t2;
SELECT * FROM t1 AS a INNER JOIN t1 AS b USING (id) WHERE a.ref < b.ref;
SELECT * FROM t1;
DELETE FROM a USING t1 AS a INNER JOIN t1 AS b USING (id) WHERE a.ref < b.ref;
SELECT * FROM t1;
DROP TABLE t1, t2;
CREATE TABLE t1 (a INT) ENGINE=MyISAM CHECKSUM=1 ROW_FORMAT=DYNAMIC;
INSERT INTO t1 VALUES (0);
UPDATE t1 SET a=1;
SELECT a FROM t1;
CHECK TABLE t1;
INSERT INTO t1 VALUES (0), (5), (4), (2);
UPDATE t1 SET a=2;
SELECT a FROM t1;
CHECK TABLE t1;
DROP TABLE t1;
CREATE TABLE t1( a VARCHAR(1), b VARCHAR(1), c VARCHAR(1), f VARCHAR(1), g VARCHAR(1), h VARCHAR(1), i VARCHAR(1), j VARCHAR(1), k VARCHAR(1)) CHECKSUM=1;
INSERT INTO t1 VALUES('', '', '', '', '', '', '', '', '');
CHECKSUM TABLE t1 QUICK;
CHECKSUM TABLE t1 EXTENDED;
DROP TABLE t1;
SET GLOBAL table_open_cache=3;
CREATE TABLE t1(a INT);
SELECT 1 FROM t1 AS a1, t1 AS a2, t1 AS a3, t1 AS a4 FOR UPDATE;
ANALYZE TABLE t1;
SELECT TABLE_ROWS, DATA_LENGTH FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='test' AND TABLE_NAME='t1';
DROP TABLE t1;
SET GLOBAL table_open_cache= @default_table_open_cache;
create table t1 (a int not null, key `a` (a) key_block_size=1024);
show create table t1;
drop table t1;
create table t1 (a int not null, key `a` (a) key_block_size=2048);
show create table t1;
drop table t1;
create table t1 (a varchar(2048), key `a` (a));
show create table t1;
drop table t1;
create table t1 (a varchar(2048), key `a` (a) key_block_size=1024);
show create table t1;
drop table t1;
create table t1 (a int not null, b varchar(2048), key (a), key(b)) key_block_size=1024;
show create table t1;
alter table t1 key_block_size=2048;
show create table t1;
alter table t1 add c int, add key (c);
show create table t1;
alter table t1 key_block_size=0;
alter table t1 add d int, add key (d);
show create table t1;
drop table t1;
create table t1 (a int not null, b varchar(2048), key (a), key(b)) key_block_size=8192;
show create table t1;
drop table t1;
create table t1 (a int not null, b varchar(2048), key (a) key_block_size=1024, key(b)) key_block_size=8192;
show create table t1;
drop table t1;
create table t1 (a int not null, b int, key (a) key_block_size=1024, key(b) key_block_size=8192) key_block_size=16384;
show create table t1;
drop table t1;
create table t1 (a int not null, key `a` (a) key_block_size=512);
show create table t1;
drop table t1;
create table t1 (a varchar(2048), key `a` (a) key_block_size=1000000000000000000);
show create table t1;
drop table t1;
create table t1 (a int not null, key `a` (a) key_block_size=1025);
show create table t1;
drop table t1;
create table t1 (a int not null, key key_block_size=1024 (a));
create table t1 (a int not null, key `a` key_block_size=1024 (a));
CREATE TABLE t1 ( c1 INT, c2 VARCHAR(300), KEY (c1) KEY_BLOCK_SIZE 1024, KEY (c2) KEY_BLOCK_SIZE 8192 ) charset latin1;
INSERT INTO t1 SELECT * FROM t1;
INSERT INTO t1 SELECT * FROM t1;
CHECK TABLE t1;
REPAIR TABLE t1;
DELETE FROM t1 WHERE c1 >= 10;
CHECK TABLE t1;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(130), c2 VARCHAR(1) ) ENGINE=MyISAM;
INSERT INTO t1 VALUES(REPEAT("a",128), 'b');
SELECT COUNT(*) FROM t1;
CHECK TABLE t1;
REPAIR TABLE t1;
SELECT COUNT(*) FROM t1;
CHECK TABLE t1;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(130), c2 VARCHAR(1) ) ENGINE=MyISAM;
INSERT INTO t1 VALUES(REPEAT("a",128), 'b');
SELECT COUNT(*) FROM t1;
CHECK TABLE t1 EXTENDED;
REPAIR TABLE t1 EXTENDED;
SELECT COUNT(*) FROM t1;
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(130), c2 VARCHAR(1) ) ENGINE=MyISAM;
INSERT INTO t1 VALUES(REPEAT("a",128), 'b');
INSERT INTO t1 VALUES('b', 'b');
INSERT INTO t1 VALUES('c', 'b');
DELETE FROM t1 WHERE c1='b';
SELECT COUNT(*) FROM t1;
OPTIMIZE TABLE t1;
SELECT COUNT(*) FROM t1;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(130), c2 VARCHAR(1), KEY (c1) ) ENGINE=MyISAM;
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
UPDATE t1 SET c1=REPEAT("a",128) LIMIT 90;
SELECT COUNT(*) FROM t1;
ALTER TABLE t1 ENGINE=MyISAM;
SELECT COUNT(*) FROM t1;
CHECK TABLE t1;
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(50), c2 VARCHAR(1) ) ENGINE=MyISAM DEFAULT CHARSET UTF8;
INSERT INTO t1 VALUES(REPEAT(_utf8 x'e0ae85',43), 'b');
SELECT COUNT(*) FROM t1;
CHECK TABLE t1;
REPAIR TABLE t1;
SELECT COUNT(*) FROM t1;
CHECK TABLE t1;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(50), c2 VARCHAR(1) ) ENGINE=MyISAM DEFAULT CHARSET UTF8;
INSERT INTO t1 VALUES(REPEAT(_utf8 x'e0ae85',43), 'b');
SELECT COUNT(*) FROM t1;
CHECK TABLE t1 EXTENDED;
REPAIR TABLE t1 EXTENDED;
SELECT COUNT(*) FROM t1;
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(50), c2 VARCHAR(1) ) ENGINE=MyISAM DEFAULT CHARSET UTF8;
INSERT INTO t1 VALUES(REPEAT(_utf8 x'e0ae85',43), 'b');
INSERT INTO t1 VALUES('b', 'b');
INSERT INTO t1 VALUES('c', 'b');
DELETE FROM t1 WHERE c1='b';
SELECT COUNT(*) FROM t1;
OPTIMIZE TABLE t1;
SELECT COUNT(*) FROM t1;
DROP TABLE t1;
CREATE TABLE t1 ( c1 CHAR(50), c2 VARCHAR(1), KEY (c1) ) ENGINE=MyISAM DEFAULT CHARSET UTF8;
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
INSERT INTO t1 VALUES ('a', 'b');
UPDATE t1 SET c1=REPEAT(_utf8 x'e0ae85',43) LIMIT 90;
SELECT COUNT(*) FROM t1;
ALTER TABLE t1 ENGINE=MyISAM;
SELECT COUNT(*) FROM t1;
CHECK TABLE t1;
CHECK TABLE t1 EXTENDED;
DROP TABLE t1;
CREATE TABLE t1 ( c1 VARCHAR(10) NOT NULL, c2 CHAR(10) DEFAULT NULL, c3 VARCHAR(10) NOT NULL, KEY (c1), KEY (c2) ) ENGINE=MyISAM DEFAULT CHARSET=utf8 PACK_KEYS=0;
DROP TABLE t1;
CREATE TABLE t1 ( c INT, d bit(1), e INT, f VARCHAR(1), g BIT(1), h BIT(1), KEY (h, d, e, g) );
INSERT INTO t1 VALUES (  3, 1, 1, 'a', 0, 0 ), (  3, 1, 5, 'a', 0, 0 ), ( 10, 1, 2, 'a', 0, 1 ), ( 10, 1, 3, 'a', 0, 1 ), ( 10, 1, 4, 'a', 0, 1 );
SELECT f FROM t1 WHERE d = 1 AND e = 2 AND g = 0 AND h = 1;
SELECT h+0, d + 0, e, g + 0 FROM t1;
DROP TABLE t1;
CREATE TABLE t1 (line LINESTRING NOT NULL) engine=myisam;
INSERT INTO t1 VALUES (ST_GeomFromText("POINT(0 0)"));
checksum table t1;
CREATE TABLE t2 (line LINESTRING NOT NULL) engine=myisam;
INSERT INTO t2 VALUES (ST_GeomFromText("POINT(0 0)"));
checksum table t2;
CREATE TABLE t3 select * from t1;
checksum table t3;
drop table t1,t2,t3;
CREATE TABLE t1(a INT, b CHAR(10), KEY(a), KEY(b)) charset latin1;
INSERT INTO t1 VALUES(1,'0'),(2,'0'),(3,'0'),(4,'0'),(5,'0'), (6,'0'),(7,'0');
INSERT INTO t1 SELECT a+10,b FROM t1;
INSERT INTO t1 SELECT a+20,b FROM t1;
INSERT INTO t1 SELECT a+40,b FROM t1;
INSERT INTO t1 SELECT a+80,b FROM t1;
INSERT INTO t1 SELECT a+160,b FROM t1;
INSERT INTO t1 SELECT a+320,b FROM t1;
INSERT INTO t1 SELECT a+640,b FROM t1;
INSERT INTO t1 SELECT a+1280,b FROM t1;
INSERT INTO t1 SELECT a+2560,b FROM t1;
INSERT INTO t1 SELECT a+5120,b FROM t1;
SET myisam_sort_buffer_size=4;
REPAIR TABLE t1;
SET myisam_repair_threads=2;
REPAIR TABLE t1;
SET myisam_repair_threads=@@global.myisam_repair_threads;
SET myisam_sort_buffer_size=@@global.myisam_sort_buffer_size;
CHECK TABLE t1;
DROP TABLE t1;
CREATE TABLE t1(a INT, b LONGTEXT, UNIQUE(a));
REPLACE INTO t1 VALUES (1, REPEAT('a', 129015)),(1, NULL), (2, NULL),(3, NULL),(4, NULL),(5, NULL),(6, NULL),(7, NULL), (1, REPEAT('b', 129016)),(1, NULL), (1, REPEAT('c', 129015)),(1, REPEAT('d', 129015));
CHECK TABLE t1;
DROP TABLE t1;
CREATE TABLE t1(a INT, b BIT(1));
INSERT INTO t1 VALUES(1, 0), (2, 1);
CREATE TABLE t2 SELECT * FROM t1;
CHECKSUM TABLE t1 EXTENDED;
CHECKSUM TABLE t2 EXTENDED;
DROP TABLE t1, t2;
CREATE TABLE t1(a CHAR(255), KEY(a)) charset latin1;
SELECT * FROM t1, t1 AS a1;
SET myisam_sort_buffer_size=4;
SET myisam_sort_buffer_size=@@global.myisam_sort_buffer_size;
INSERT INTO t1 VALUES('1');
SELECT * FROM t1, t1 AS a1 WHERE t1.a=1 AND a1.a=1;
DROP TABLE t1;
SET myisam_repair_threads=2;
SET myisam_sort_buffer_size=4096;
CREATE TABLE t1(a CHAR(255), KEY(a), KEY(a), KEY(a)) charset latin1;
INSERT INTO t1 VALUES (0),(1),(2),(3),(4),(5),(6),(7),(8),(9),(0),(1),(2),(3);
REPAIR TABLE t1;
ANALYZE TABLE t1;
SELECT CARDINALITY FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA='test' AND TABLE_NAME='t1';
DROP TABLE t1;
SET myisam_sort_buffer_size=@@global.myisam_sort_buffer_size;
SET myisam_repair_threads=@@global.myisam_repair_threads;
SET GLOBAL myisam_use_mmap=1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES(1),(2);
DELETE FROM t1 WHERE a=1;
FLUSH TABLE t1;
LOCK TABLE t1 WRITE;
OPTIMIZE TABLE t1;
INSERT INTO t1 VALUES(3);
UNLOCK TABLES;
SELECT * FROM t1;
CHECK TABLE t1;
DROP TABLE t1;
SET GLOBAL myisam_use_mmap=default;
CREATE TABLE t1(a INT, KEY(a));
ALTER TABLE t1 DISABLE KEYS;
ANALYZE TABLE t1;
SET @before:= (SELECT MAX_DATA_LENGTH FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME='t1' AND TABLE_SCHEMA='test');
FLUSH TABLES;
SET @after:= (SELECT MAX_DATA_LENGTH FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME='t1' AND TABLE_SCHEMA='test');
SELECT @before=@after;
DROP TABLE t1;
CREATE TABLE t1 ( a int NOT NULL ) engine= myisam;
CREATE TABLE t2 ( a int NOT NULL, b int NOT NULL, filler char(100) DEFAULT NULL, KEY a (a,b) ) engine= myisam;
insert into t1 values (0),(1),(2),(3),(4);
insert into t2 select A.a + 10 *B.a, 1, 'filler' from t1 A, t1 B;
explain select * from t1, t2 where t2.a=t1.a and t2.b + 1;
select * from t1, t2 where t2.a=t1.a and t2.b + 1;
drop table t1,t2;
call mtr.add_suppression("Got an error from thread_id=.*ha_myisam.cc:");
call mtr.add_suppression("MySQL thread id .*, query id .* localhost.*root Checking table");
call mtr.add_suppression(" '\..test.t1'");
SELECT @@global.myisam_recover_options;
CREATE TABLE t1 (a INT, KEY (a)) ENGINE=MyISAM;
INSERT INTO t1 VALUES (1), (2);
FLUSH TABLES;
CHECK TABLE t1;
ALTER TABLE t1 ENGINE = MyISAM;
CHECK TABLE t1;
DROP TABLE t1;
CREATE TABLE t1 (f1 year, key k1(f1)) ENGINE=MYISAM;
INSERT INTO t1 VALUES(0000),(0000);
SELECT * FROM t1 FORCE INDEX(k1) WHERE f1 = 'lhsi';
DROP TABLE t1;
CREATE TABLE t1 ( col1 VARCHAR(255) DEFAULT NULL, col1_id INT(11) DEFAULT NULL, KEY col1 (col1), KEY col1_id (col1_id) ) charset latin1 ENGINE=MyISAM;
INSERT INTO t1 (col1, col1_id) VALUES ('5cm', 10000), ('people', 10000), ('king', 10000), ('queen', 10000), ('minister', 10000), ('servent', 13000);
INSERT INTO t1 (col1, col1_id) SELECT col1, col1_id FROM t1 WHERE col1 <> '5cm';
INSERT INTO t1 (col1, col1_id) SELECT col1, col1_id FROM t1 WHERE col1 <> '5cm';
INSERT INTO t1 (col1, col1_id) SELECT col1, col1_id FROM t1 WHERE col1 <> '5cm';
INSERT INTO t1 (col1, col1_id) VALUES ('5cm ', 10000), ('5cm ', 10000);
SELECT col1, hex(col1), col1_id, count(*) from t1 WHERE col1= '5cm' GROUP BY hex(col1), col1_id;
UPDATE t1 SET col1_id= 1414 WHERE col1= '5cm';
SELECT count(*) FROM t1 WHERE col1= '5cm';
SELECT count(*) FROM t1 WHERE col1_id= 1414;
DELETE FROM t1 WHERE col1= '5cm';
SELECT count(*) FROM t1 WHERE col1= '5cm';
DROP TABLE t1;
CREATE TABLE t1 ( col1 VARCHAR(255) DEFAULT NULL, col1_dummy VARCHAR(25) DEFAULT NULL, col1_id INT(11) DEFAULT NULL, col1_id_dummy INT(10) DEFAULT NULL, KEY col1 (col1, col1_dummy), KEY col1_id (col1, col1_id_dummy) ) charset latin1 ENGINE=MyISAM;
INSERT INTO t1 (col1, col1_dummy, col1_id, col1_id_dummy) VALUES ('5cm', '5cm' , 10000, 100), ('people', 'people', 10000, 100), ('king', 'king' , 10000, 100), ('queen', 'queen', 10000, 100), ('minister', 'minister', 10000, 100), ('servent', 'servent', 13000, 100);
INSERT INTO t1 (col1, col1_dummy, col1_id, col1_id_dummy) SELECT col1, col1_dummy, col1_id, col1_id_dummy FROM t1 WHERE col1 <> '5cm';
INSERT INTO t1 (col1, col1_dummy, col1_id, col1_id_dummy) SELECT col1, col1_dummy, col1_id, col1_id_dummy FROM t1 WHERE col1 <> '5cm';
INSERT INTO t1 (col1, col1_dummy, col1_id, col1_id_dummy) SELECT col1, col1_dummy, col1_id, col1_id_dummy FROM t1 WHERE col1 <> '5cm';
INSERT INTO t1 (col1, col1_dummy, col1_id, col1_id_dummy) VALUES ('5cm ', '5cm ',  10000, 100), ('5cm ', '5cm ', 10000, 100);
SELECT col1, hex(col1), col1_id, count(*) from t1 WHERE col1= '5cm'   GROUP BY hex(col1), col1_id;
UPDATE t1 SET col1_id= 1414 WHERE col1= '5cm' AND col1_dummy= '5cm';
SELECT count(*) FROM t1 WHERE col1= '5cm';
SELECT count(*) FROM t1 WHERE col1_id= 1414;
DELETE FROM t1 WHERE col1= '5cm' AND col1_dummy= '5cm';
SELECT count(*) FROM t1 WHERE col1= '5cm';
DROP TABLE t1;
SET sql_mode = default;
