call mtr.add_suppression("\\[Warning\\] \\[[^]]*\\] Server shutdown in progress");
CREATE USER user1;
CREATE USER user3@%;
CREATE USER user3@localhost BY 'auth_string' WITH 'sha_256_password';
CREATE USER "user2"@'%';
CREATE USER user9@localhost IDENTIFIED WITH 'mysql_native_password' AS 'auth_string';
CREATE USER user10@localhost IDENTIFIED WITH 'caching_sha2_password' AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678';
CREATE USER u1@localhost;
CREATE USER u2@localhost IDENTIFIED BY 'auth_string';
CREATE USER user5@localhost IDENTIFIED  AS 'auth_string';
CREATE USER u3@localhost IDENTIFIED WITH 'sha256_password';
CREATE USER u4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string';
CREATE USER user4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string';
CREATE USER user6@localhost IDENTIFIED WITH 'mysql_native_password';
CREATE USER user7@localhost IDENTIFIED WITH 'mysql_native_password' BY 'auth_string#%y';
CREATE USER user8@localhost IDENTIFIED WITH 'mysql_native_password'             AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF'             PASSWORD EXPIRE NEVER;
CREATE USER tu1@localhost IDENTIFIED WITH 'test_plugin_server';
CREATE USER tu2@localhost IDENTIFIED WITH 'test_plugin_server'             BY 'auth_@13*' PASSWORD EXPIRE;
CREATE USER tu3@localhost IDENTIFIED WITH 'test_plugin_server' AS '%auth_O0s-tring';
CREATE USER u5@localhost REQUIRE SSL;
CREATE USER u6@localhost IDENTIFIED BY 'auth_string' REQUIRE X509;
CREATE USER tu4@localhost IDENTIFIED WITH 'test_plugin_server' BY 'djgsj743$'                           REQUIRE SSL;
CREATE USER tu5@localhost IDENTIFIED WITH 'test_plugin_server' AS 'dwh@#ghd$!'                           REQUIRE X509;
CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password' REQUIRE CIPHER 'cipher';
CREATE USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string' REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA' PASSWORD EXPIRE NEVER;
CREATE USER u9@localhost REQUIRE SUBJECT 'sub';
CREATE USER u10@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string#y' REQUIRE CIPHER "DHE-RSA-AES256-SHA" AND SUBJECT "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client" ISSUER "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA" PASSWORD EXPIRE DEFAULT;
CREATE USER tu6@localhost IDENTIFIED WITH 'test_plugin_server' AS '#hGrt0O6' REQUIRE CIPHER "DHE-RSA-AES256-SHA" AND SUBJECT "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client" ISSUER "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA" WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2;
CREATE USER u11@localhost WITH MAX_QUERIES_PER_HOUR 2;
CREATE USER u12@localhost IDENTIFIED BY 'auth_string'                           WITH MAX_QUERIES_PER_HOUR 2 PASSWORD EXPIRE NEVER;
CREATE USER u13@localhost IDENTIFIED WITH 'sha256_password'                           WITH MAX_CONNECTIONS_PER_HOUR 2;
CREATE USER u14@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                           WITH MAX_USER_CONNECTIONS 2  PASSWORD EXPIRE INTERVAL 999 DAY;
CREATE USER u15@localhost, u16@localhost IDENTIFIED BY 'auth_string', u17@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string';
CREATE USER u18@localhost, u19@localhost IDENTIFIED BY 'auth_string', u20@localhost IDENTIFIED WITH 'sha256_password', u21@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string', u22@localhost IDENTIFIED WITH 'test_plugin_server', u23@localhost IDENTIFIED WITH 'mysql_native_password' BY 'auth_&string'             REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'             WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2;
DROP USER tu1@localhost,tu2@localhost,tu3@localhost,tu4@localhost,tu5@localhost, tu6@localhost,user1@'%',user2@'%',user4@localhost,user6@localhost, user7@localhost,user8@localhost,user10@localhost,u1@localhost,u2@localhost, u3@localhost,u4@localhost,u5@localhost,u6@localhost,u7@localhost,u8@localhost, u9@localhost,u10@localhost,u11@localhost,u12@localhost,u13@localhost, u14@localhost,u15@localhost,u16@localhost,u17@localhost,u18@localhost, u19@localhost,u20@localhost,u21@localhost,u22@localhost,u23@localhost;
CREATE USER u1@localhost;
ALTER USER u1@localhost;
CREATE USER u2@localhost IDENTIFIED WITH 'mysql_native_password';
ALTER USER u2@localhost IDENTIFIED WITH 'mysql_native_password' PASSWORD EXPIRE NEVER;
ALTER USER USER() IDENTIFIED BY 'abc';
CREATE USER u3@localhost IDENTIFIED WITH 'sha256_password';
ALTER USER u3@localhost IDENTIFIED WITH 'mysql_native_password'                         AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF';
ALTER USER u3@localhost IDENTIFIED WITH 'test_plugin_server' BY 'auth_string';
ALTER USER u3@localhost REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'            WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2 PASSWORD EXPIRE NEVER;
CREATE USER u4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string';
ALTER USER u4@localhost IDENTIFIED WITH 'mysql_native_password' BY 'auth_string';
CREATE USER u5@localhost REQUIRE SSL;
ALTER USER u5@localhost IDENTIFIED WITH 'sha256_password';
SET PASSWORD='new_auth_string';
CREATE USER u6@localhost IDENTIFIED BY 'auth_string' REQUIRE X509;
ALTER USER u6@localhost IDENTIFIED WITH 'test_plugin_server'                         AS 'new_auth_string' REQUIRE SSL;
CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                          REQUIRE CIPHER 'DHE-RSA-AES256-SHA';
ALTER USER u7@localhost IDENTIFIED WITH 'sha256_password' BY 'new_auth_string'                         REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA';
CREATE USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                          REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA';
ALTER USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                         REQUIRE CIPHER "DHE-RSA-AES256-SHA";
CREATE USER tu1@localhost IDENTIFIED WITH 'mysql_native_password'                           BY 'auth_string' REQUIRE ISSUER 'issuer';
ALTER USER tu1@localhost IDENTIFIED WITH 'sha256_password'                          REQUIRE CIPHER "DHE-RSA-AES256-SHA";
CREATE USER u9@localhost REQUIRE SUBJECT 'sub';
ALTER USER u9@localhost REQUIRE ISSUER "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA";
ALTER USER u9@localhost IDENTIFIED WITH 'test_plugin_server' BY 'auth_string77hg'                         REQUIRE ISSUER "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA";
CREATE USER u10@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                           REQUIRE CIPHER "DHE-RSA-AES256-SHA" AND SUBJECT "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client"                           ISSUER "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA";
ALTER USER u10@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                          REQUIRE SSL;
