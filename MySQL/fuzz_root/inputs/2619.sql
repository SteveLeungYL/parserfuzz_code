DROP TABLE IF EXISTS t1;
CREATE TABLE t1 ( key1 INT NOT NULL, key2 INT NOT NULL, key3 INT NOT NULL, key4 INT NOT NULL, key5 INT, key6 INT, key7 INT NOT NULL, key8 INT NOT NULL, INDEX i1(key1), INDEX i2(key2), INDEX i3(key3), INDEX i4(key4), INDEX i5(key5), INDEX i6(key6) );
INSERT INTO t1 VALUES ( 1,1,1,1,1,1,1,1),(2,2,2,2,2,2,2,2);
set @d=2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
INSERT INTO t1 SELECT key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, key6+@d, key7+@d, key8+@d FROM t1;
set @d=@d*2;
set @d=5;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, NULL, key7+@d, key8+@d);
set @d=@d*2;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, NULL, key7+@d, key8+@d);
set @d=@d*2;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, NULL, key7+@d, key8+@d);
set @d=@d*2;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, NULL, key7+@d, key8+@d);
set @d=@d*2;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, key5+@d, NULL, key7+@d, key8+@d);
set @d=@d*2;
set @d=6;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, NULL, key6+@d, key7+@d, key8+@d);
set @d=@d*2;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, NULL, key6+@d, key7+@d, key8+@d);
set @d=@d*2;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, NULL, key6+@d, key7+@d, key8+@d);
set @d=@d*2;
INSERT INTO t1 VALUES (key1+@d, key2+@d, key3+@d, key4+@d, NULL, key6+@d, key7+@d, key8+@d);
set @d=@d*2;
ANALYZE TABLE t1;
DROP TABLE IF EXISTS t2;
CREATE TABLE t2 LIKE t1;
INSERT INTO t2 SELECT * FROM t1;
ANALYZE TABLE t2;
EXPLAIN UPDATE t1 SET key6=7 WHERE key1=80 OR key4=49;
UPDATE t1 SET key6=7 WHERE key1=80 OR key4=49;
EXPLAIN UPDATE t1 SET key1=18 WHERE (key3=80 AND key5 IS NOT NULL) OR (key2=49 AND key6 IS NULL);
UPDATE t1 SET key1=18 WHERE (key3=80 AND key5 IS NOT NULL) OR (key2=49 AND key6 IS NULL);
EXPLAIN UPDATE t1 SET key3=18 WHERE (key4=42 AND key6 IS NOT NULL) OR (key1>4 AND key5 IS NULL) AND key2<>50;
UPDATE t1 SET key3=18 WHERE (key4=42 AND key6 IS NOT NULL) OR (key1>4 AND key5 IS NULL) AND key2<>50;
EXPLAIN UPDATE t1 SET key8=64 WHERE key2=80 OR key3=1025 OR key4 <=> NULL;
UPDATE t1 SET key8=64 WHERE key2=80 OR key3=1025 OR key4 <=> NULL;
EXPLAIN UPDATE t1 SET key8=18 WHERE (key1 < 3 OR key2 < 2) AND (key3 < 3 OR key4 < 3) AND (key5 < 2 OR key6 < 2);
UPDATE t1 SET key8=18 WHERE (key1 < 3 OR key2 < 2) AND (key3 < 3 OR key4 < 3) AND (key5 < 2 OR key6 < 2);
EXPLAIN UPDATE t1 SET key3=32 WHERE key1 between 25 AND 40 OR key2 between 15 AND 49;
UPDATE t1 SET key3=32 WHERE key1 between 25 AND 40 OR key2 between 15 AND 49;
EXPLAIN UPDATE t1 SET key7=25 WHERE key1 IN (15,70) OR key2 IN (15,70);
