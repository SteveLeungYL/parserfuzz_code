FLUSH STATUS;
CREATE USER user1;
SELECT host,user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='user1';
SELECT USER();
ALTER USER user1;
SELECT host,user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='user1';
SHOW CREATE USER user1;
SELECT USER();
CREATE USER user2@localhost ACCOUNT UNLOCK;
SELECT host,user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='user2';
SELECT USER();
ALTER USER user() IDENTIFIED BY 'auth_string' ACCOUNT LOCK;
GRANT CREATE USER ON *.* TO user2@localhost;
FLUSH PRIVILEGES;
SELECT USER();
ALTER USER user2@localhost IDENTIFIED BY 'auth_string' ACCOUNT LOCK;
SELECT USER();
ALTER USER user2@localhost ACCOUNT LOCK;
SELECT host,user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='user2';
CREATE USER 'user8'@'localhost' IDENTIFIED WITH 'mysql_native_password'             AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF'             ACCOUNT UNLOCK;
ALTER USER 'user8'@'localhost' ACCOUNT LOCK PASSWORD EXPIRE NEVER;
CREATE USER 'user9'@'localhost' IDENTIFIED WITH 'mysql_native_password'             AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF'             ACCOUNT LOCK;
CREATE USER 'user10'@'localhost' IDENTIFIED WITH 'mysql_native_password'             AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF'             PASSWORD EXPIRE NEVER ACCOUNT UNLOCK;
ALTER USER 'user10'@'localhost' PASSWORD EXPIRE DEFAULT ACCOUNT LOCK;
CREATE USER 'user11'@'localhost' IDENTIFIED WITH 'mysql_native_password'             AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF'             ACCOUNT LOCK PASSWORD EXPIRE NEVER;
ALTER USER 'user11'@'localhost' PASSWORD EXPIRE INTERVAL 10 DAY ACCOUNT LOCK;
CREATE USER ACCOUNT UNLOCK user5@localhost;
CREATE USER ACCOUNT LOCK user6@localhost;
ALTER USER ACCOUNT LOCK user2@localhost;
ALTER USER ACCOUNT UNLOCK user2@localhot;
CREATE USER user3,user4@localhost ACCOUNT LOCK;
CREATE USER user6@'%',user7@localhost ACCOUNT LOCK;
ALTER USER user3,user4@localhost ACCOUNT UNLOCK;
ALTER USER user7@localhost,user6@'%' ACCOUNT UNLOCK;
SELECT host,user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user3';
SELECT host,user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user4';
ALTER USER user4@localhost,user3 ACCOUNT LOCK;
SELECT host,user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user3';
SELECT host,user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user4';
SHOW STATUS LIKE 'locked_connects';
FLUSH STATUS;
SELECT * FROM INFORMATION_SCHEMA.user_privileges WHERE GRANTEE LIKE '%user%' AND GRANTEE NOT IN ("'mysql.session'@'localhost'");
DROP USER user1,user2@localhost,user3,user4@localhost,user6,user7@localhost, user8@localhost,user9@localhost,user10@localhost,user11@localhost;
CREATE USER u1@localhost ACCOUNT LOCK;
SELECT user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='u1';
ALTER USER u1@localhost;
SELECT user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='u1';
CREATE USER u2@localhost IDENTIFIED BY 'auth_string' ACCOUNT LOCK;
SELECT user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='u2';
SHOW CREATE USER u2@localhost;
DROP USER u2@localhost;
CREATE USER 'u2'@'localhost' IDENTIFIED WITH 'mysql_native_password'             AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF'             REQUIRE NONE PASSWORD EXPIRE DEFAULT ACCOUNT LOCK;
ALTER USER u2@localhost IDENTIFIED BY 'auth_string' ACCOUNT UNLOCK;
SELECT user,plugin,authentication_string,account_locked FROM mysql.user WHERE USER='u2';
SELECT USER();
SHOW CREATE USER u2@localhost;
CREATE USER u3@localhost IDENTIFIED WITH 'sha256_password'                          ACCOUNT UNLOCK ACCOUNT LOCK;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='u3';
SHOW CREATE USER u3@localhost;
ALTER USER u3@localhost IDENTIFIED WITH 'sha256_password'                         ACCOUNT LOCK ACCOUNT UNLOCK;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='u3';
SELECT USER();
SET PASSWORD = 'def';
SHOW CREATE USER u3@localhost;
CREATE USER u4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                          PASSWORD EXPIRE DEFAULT ACCOUNT LOCK;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='u4';
ALTER USER u4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'                         ACCOUNT UNLOCK;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='u4';
SHOW CREATE USER u4@localhost;
SELECT USER();
CREATE USER user4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string' ACCOUNT LOCK PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK PASSWORD EXPIRE INTERVAL 90 DAY;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user4';
CREATE USER user5@localhost IDENTIFIED WITH 'mysql_native_password' AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF'                             ACCOUNT UNLOCK PASSWORD EXPIRE NEVER;
SELECT USER();
CREATE USER user6@localhost IDENTIFIED WITH 'mysql_native_password'                             ACCOUNT UNLOCK ACCOUNT LOCK PASSWORD EXPIRE NEVER;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user6';
SHOW CREATE USER user6@localhost;
ALTER USER user6@localhost IDENTIFIED WITH 'mysql_native_password'                            ACCOUNT LOCK ACCOUNT UNLOCK;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user6';
SELECT USER();
CREATE USER user7@localhost IDENTIFIED WITH 'mysql_native_password' BY 'auth_string#%y'             PASSWORD EXPIRE DEFAULT ACCOUNT LOCK PASSWORD EXPIRE NEVER ACCOUNT UNLOCK;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user7';
SHOW CREATE USER user7@localhost;
SELECT USER();
ALTER USER user7@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string_sha256'            PASSWORD EXPIRE NEVER ACCOUNT LOCK;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user7';
CREATE USER user8@localhost IDENTIFIED WITH 'mysql_native_password' AS '*67092806AE91BFB6BE72DE6C7BE2B7CCA8CFA9DF' ACCOUNT UNLOCK PASSWORD EXPIRE NEVER;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user8';
SHOW CREATE USER user8@localhost;
SELECT USER();
ALTER USER user8@localhost IDENTIFIED WITH 'mysql_native_password' BY 'new_auth_string'                            ACCOUNT UNLOCK PASSWORD EXPIRE;
SELECT user,plugin,authentication_string,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='user8';
SELECT USER();
SET PASSWORD='auth_string';
SELECT USER();
CREATE USER u5@localhost REQUIRE SSL ACCOUNT LOCK PASSWORD EXPIRE;
SELECT user,plugin,authentication_string,ssl_type,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='u5';
SHOW CREATE USER u5@localhost;
ALTER USER u5@localhost REQUIRE SSL PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK;
SELECT USER();
CREATE USER u6@localhost IDENTIFIED BY 'auth_string' REQUIRE X509 ACCOUNT LOCK PASSWORD EXPIRE PASSWORD EXPIRE NEVER;
SELECT user,plugin,authentication_string,ssl_type,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='u6';
SHOW CREATE USER u6@localhost;
ALTER USER u6@localhost ACCOUNT UNLOCK;
SELECT user,plugin,authentication_string,ssl_type,password_expired, password_lifetime,account_locked FROM mysql.user WHERE USER='u6';
SHOW CREATE USER u6@localhost;
SELECT USER();
CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password'             REQUIRE CIPHER "DHE-RSA-AES256-SHA"             PASSWORD EXPIRE NEVER PASSWORD EXPIRE NEVER;
SELECT user,plugin,authentication_string,ssl_type,ssl_cipher,x509_issuer, x509_subject,password_expired,password_lifetime,account_locked FROM mysql.user WHERE USER='u7';
SHOW CREATE USER u7@localhost;
SELECT USER();
ALTER USER u7@localhost IDENTIFIED WITH 'mysql_native_password'                         PASSWORD EXPIRE DEFAULT ACCOUNT LOCK;
SELECT user,plugin,authentication_string,ssl_type,ssl_cipher,x509_issuer, x509_subject,password_expired,password_lifetime,account_locked FROM mysql.user WHERE USER='u7';
SHOW CREATE USER u7@localhost;
CREATE USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'             REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA'             PASSWORD EXPIRE NEVER ACCOUNT UNLOCK;
SELECT user,plugin,authentication_string,ssl_type,ssl_cipher,x509_issuer, x509_subject,password_expired,password_lifetime,account_locked FROM mysql.user WHERE USER='u8';
SHOW CREATE USER u8@localhost;
SELECT USER();
ALTER USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'             REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA'             PASSWORD EXPIRE NEVER ACCOUNT LOCK;
SELECT user,plugin,authentication_string,ssl_type,ssl_cipher,x509_issuer, x509_subject,password_expired,password_lifetime,account_locked FROM mysql.user WHERE USER='u8';
CREATE USER u9@localhost REQUIRE SUBJECT "/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client"             ACCOUNT LOCK PASSWORD EXPIRE NEVER;
SELECT user,plugin,authentication_string,ssl_type,ssl_cipher,x509_issuer, x509_subject,password_expired,password_lifetime,account_locked FROM mysql.user WHERE USER='u9';
