set names koi8r;
DROP DATABASE IF EXISTS mysqltest1;
CREATE DATABASE mysqltest1 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
use mysqltest1;
CREATE TABLE t1(��� INT);
INSERT INTO t1 VALUES(1);
CREATE VIEW v1 AS SELECT '����' AS c1, ��� AS c2 FROM t1;
CREATE VIEW v2 AS SELECT _utf8'тест' as c1;
CREATE VIEW v3 AS SELECT _utf8'тест';
SHOW CREATE VIEW v1;
SHOW CREATE VIEW v2;
SHOW CREATE VIEW v3;
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v1';
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v2';
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v3';
SELECT COLLATION(c1), COLLATION(c2) FROM v1;
SELECT COLLATION(c1) FROM v2;
SELECT * FROM v3;
ALTER DATABASE mysqltest1 COLLATE cp866_general_ci;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
SELECT * FROM mysqltest1.v1;
SELECT * FROM mysqltest1.v2;
SELECT * FROM mysqltest1.v3;
use mysqltest1;
set names koi8r;
SHOW CREATE VIEW v1;
SHOW CREATE VIEW v2;
SHOW CREATE VIEW v3;
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v1';
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v2';
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v3';
SELECT COLLATION(c1), COLLATION(c2) FROM v1;
SELECT COLLATION(c1) FROM v2;
SELECT * FROM v3;
DROP DATABASE mysqltest1;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
SELECT * FROM mysqltest1.v1;
SELECT * FROM mysqltest1.v2;
SELECT * FROM mysqltest1.v3;
use mysqltest1;
set names koi8r;
SHOW CREATE VIEW v1;
SHOW CREATE VIEW v2;
SHOW CREATE VIEW v3;
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v1';
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v2';
SELECT * FROM INFORMATION_SCHEMA.VIEWS WHERE table_name = 'v3';
SELECT COLLATION(c1), COLLATION(c2) FROM v1;
SELECT COLLATION(c1) FROM v2;
SELECT * FROM v3;
use test;
DROP DATABASE mysqltest1;
DROP DATABASE IF EXISTS mysqltest1;
DROP DATABASE IF EXISTS mysqltest2;
CREATE DATABASE mysqltest1 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
CREATE DATABASE mysqltest2 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
use mysqltest1;
CREATE PROCEDURE p1( INOUT �����1 CHAR(10), OUT �����2 CHAR(10)) BEGIN DECLARE �����1 CHAR(10); SELECT COLLATION(�����1) AS c1, COLLATION(�����1) AS c2, COLLATION(�����2) AS c3; SELECT COLLATION('�����') AS c4, COLLATION(_koi8r    '�����') AS c5, COLLATION(_utf8 'текст') AS c6, @@collation_connection AS c7, @@character_set_client AS c8; SET �����1 = 'a'; SET �����2 = 'b'; END;
CREATE PROCEDURE p2( INOUT �����1 CHAR(10) CHARACTER SET utf8, OUT �����2 CHAR(10) CHARACTER SET utf8) BEGIN DECLARE �����1 CHAR(10) CHARACTER SET utf8; SELECT COLLATION(�����1) AS c1, COLLATION(�����1) AS c2, COLLATION(�����2) AS c3; SELECT COLLATION('�����') AS c4, COLLATION(_koi8r    '�����') AS c5, COLLATION(_utf8 'текст') AS c6, @@collation_connection AS c7, @@character_set_client AS c8; SET �����1 = 'a'; SET �����2 = 'b'; END;
CREATE PROCEDURE mysqltest2.p3( INOUT �����1 CHAR(10), OUT �����2 CHAR(10)) BEGIN DECLARE �����1 CHAR(10); SELECT COLLATION(�����1) AS c1, COLLATION(�����1) AS c2, COLLATION(�����2) AS c3; SELECT COLLATION('�����') AS c4, COLLATION(_koi8r    '�����') AS c5, COLLATION(_utf8 'текст') AS c6, @@collation_connection AS c7, @@character_set_client AS c8; SET �����1 = 'a'; SET �����2 = 'b'; END;
CREATE PROCEDURE mysqltest2.p4( INOUT �����1 CHAR(10) CHARACTER SET utf8, OUT �����2 CHAR(10) CHARACTER SET utf8) BEGIN DECLARE �����1 CHAR(10) CHARACTER SET utf8; SELECT COLLATION(�����1) AS c1, COLLATION(�����1) AS c2, COLLATION(�����2) AS c3; SELECT COLLATION('�����') AS c4, COLLATION(_koi8r    '�����') AS c5, COLLATION(_utf8 'текст') AS c6, @@collation_connection AS c7, @@character_set_client AS c8; SET �����1 = 'a'; SET �����2 = 'b'; END;
SHOW CREATE PROCEDURE p1;
SHOW CREATE PROCEDURE p2;
SHOW CREATE PROCEDURE mysqltest2.p3;
SHOW CREATE PROCEDURE mysqltest2.p4;
SHOW PROCEDURE STATUS LIKE 'p1';
SHOW PROCEDURE STATUS LIKE 'p2';
SHOW PROCEDURE STATUS LIKE 'p3';
SHOW PROCEDURE STATUS LIKE 'p4';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p1';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p2';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p3';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p4';
SET @a = '1';
SET @b = '2';
CALL p1(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL p2(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL mysqltest2.p3(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL mysqltest2.p4(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
ALTER DATABASE mysqltest1 COLLATE cp866_general_ci;
ALTER DATABASE mysqltest2 COLLATE cp866_general_ci;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
CALL p1(@a, @b);
CALL p2(@a, @b);
CALL mysqltest2.p3(@a, @b);
CALL mysqltest2.p4(@a, @b);
set names koi8r;
SHOW CREATE PROCEDURE p1;
SHOW CREATE PROCEDURE p2;
SHOW CREATE PROCEDURE mysqltest2.p3;
SHOW CREATE PROCEDURE mysqltest2.p4;
SHOW PROCEDURE STATUS LIKE 'p1';
SHOW PROCEDURE STATUS LIKE 'p2';
SHOW PROCEDURE STATUS LIKE 'p3';
SHOW PROCEDURE STATUS LIKE 'p4';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p1';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p2';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p3';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p4';
SET @a = '1';
SET @b = '2';
CALL p1(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL p2(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL mysqltest2.p3(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL mysqltest2.p4(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
DROP DATABASE mysqltest1;
DROP DATABASE mysqltest2;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
CALL p1(@a, @b);
CALL p2(@a, @b);
CALL mysqltest2.p3(@a, @b);
CALL mysqltest2.p4(@a, @b);
set names koi8r;
SHOW CREATE PROCEDURE p1;
SHOW CREATE PROCEDURE p2;
SHOW CREATE PROCEDURE mysqltest2.p3;
SHOW CREATE PROCEDURE mysqltest2.p4;
SHOW PROCEDURE STATUS LIKE 'p1';
SHOW PROCEDURE STATUS LIKE 'p2';
SHOW PROCEDURE STATUS LIKE 'p3';
SHOW PROCEDURE STATUS LIKE 'p4';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p1';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p2';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p3';
SELECT * FROM INFORMATION_SCHEMA.ROUTINES WHERE routine_name = 'p4';
SET @a = '1';
SET @b = '2';
CALL p1(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL p2(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL mysqltest2.p3(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
CALL mysqltest2.p4(@a, @b);
SELECT COLLATION(@a) AS ca, COLLATION(@b) cb;
use test;
DROP DATABASE mysqltest1;
DROP DATABASE mysqltest2;
DROP DATABASE IF EXISTS mysqltest1;
DROP DATABASE IF EXISTS mysqltest2;
CREATE DATABASE mysqltest1 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
CREATE DATABASE mysqltest2 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
use mysqltest1;
CREATE TABLE t1(c INT);
CREATE TABLE mysqltest2.t1(c INT);
CREATE TABLE log(msg VARCHAR(255));
CREATE TABLE mysqltest2.log(msg VARCHAR(255));
CREATE TRIGGER trg1 BEFORE INSERT ON t1 FOR EACH ROW BEGIN DECLARE �����1 CHAR(10); INSERT INTO log VALUES(COLLATION(�����1)); INSERT INTO log VALUES(COLLATION('�����')); INSERT INTO log VALUES(COLLATION(_koi8r    '�����')); INSERT INTO log VALUES(COLLATION(_utf8 'текст')); INSERT INTO log VALUES(@@collation_connection); INSERT INTO log VALUES(@@character_set_client); SET @a1 = '�����'; SET @a1 = _koi8r    '�����'; SET @a2 = _utf8 'текст'; END;
CREATE TRIGGER trg2 AFTER INSERT ON t1 FOR EACH ROW BEGIN DECLARE �����1 CHAR(10) CHARACTER SET utf8; INSERT INTO log VALUES(COLLATION(�����1)); INSERT INTO log VALUES(COLLATION('�����')); INSERT INTO log VALUES(COLLATION(_koi8r    '�����')); INSERT INTO log VALUES(COLLATION(_utf8 'текст')); INSERT INTO log VALUES(@@collation_connection); INSERT INTO log VALUES(@@character_set_client); SET @b1 = '�����'; SET @b1 = _koi8r    '�����'; SET @b2 = _utf8 'текст'; END;
CREATE TRIGGER mysqltest2.trg3 BEFORE INSERT ON mysqltest2.t1 FOR EACH ROW BEGIN DECLARE �����1 CHAR(10); INSERT INTO log VALUES(COLLATION(�����1)); INSERT INTO log VALUES(COLLATION('�����')); INSERT INTO log VALUES(COLLATION(_koi8r    '�����')); INSERT INTO log VALUES(COLLATION(_utf8 'текст')); INSERT INTO log VALUES(@@collation_connection); INSERT INTO log VALUES(@@character_set_client); SET @a1 = '�����'; SET @a1 = _koi8r    '�����'; SET @a2 = _utf8 'текст'; END;
CREATE TRIGGER mysqltest2.trg4 AFTER INSERT ON mysqltest2.t1 FOR EACH ROW BEGIN DECLARE �����1 CHAR(10) CHARACTER SET utf8; INSERT INTO log VALUES(COLLATION(�����1)); INSERT INTO log VALUES(COLLATION('�����')); INSERT INTO log VALUES(COLLATION(_koi8r    '�����')); INSERT INTO log VALUES(COLLATION(_utf8 'текст')); INSERT INTO log VALUES(@@collation_connection); INSERT INTO log VALUES(@@character_set_client); SET @b1 = '�����'; SET @b1 = _koi8r    '�����'; SET @b2 = _utf8 'текст'; END;
SHOW CREATE TRIGGER trg1;
SHOW CREATE TRIGGER trg2;
SHOW CREATE TRIGGER mysqltest2.trg3;
SHOW CREATE TRIGGER mysqltest2.trg4;
SHOW TRIGGERS;
use mysqltest2;
SHOW TRIGGERS;
use mysqltest1;
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg1';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg2';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg3';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg4';
SET @a1 = '1';
SET @a2 = '1';
SET @a3 = '1';
SET @b1 = '2';
SET @b2 = '2';
SET @b3 = '2';
INSERT INTO t1 VALUES(1);
SELECT msg FROM log;
SELECT COLLATION(@a1) AS ca1, COLLATION(@a2) AS ca2, COLLATION(@a3) AS ca3, COLLATION(@b1) AS cb1, COLLATION(@b2) AS cb2, COLLATION(@b3) AS cb3;
DELETE FROM log;
INSERT INTO mysqltest2.t1 VALUES(1);
SELECT msg FROM mysqltest2.log;
SELECT COLLATION(@a1) AS ca1, COLLATION(@a2) AS ca2, COLLATION(@a3) AS ca3, COLLATION(@b1) AS cb1, COLLATION(@b2) AS cb2, COLLATION(@b3) AS cb3;
DELETE FROM mysqltest2.log;
ALTER DATABASE mysqltest1 COLLATE cp866_general_ci;
ALTER DATABASE mysqltest2 COLLATE cp866_general_ci;
ALTER TABLE t1 ADD COLUMN fake INT;
ALTER TABLE t1 DROP COLUMN fake;
ALTER TABLE mysqltest2.t1 ADD COLUMN fake INT;
ALTER TABLE mysqltest2.t1 DROP COLUMN fake;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
INSERT INTO mysqltest1.t1 VALUES(0);
INSERT INTO mysqltest2.t1 VALUES(0);
DELETE FROM mysqltest1.log;
DELETE FROM mysqltest2.log;
set names koi8r;
use mysqltest1;
SHOW CREATE TRIGGER trg1;
SHOW CREATE TRIGGER trg2;
SHOW CREATE TRIGGER mysqltest2.trg3;
SHOW CREATE TRIGGER mysqltest2.trg4;
SHOW TRIGGERS;
use mysqltest2;
SHOW TRIGGERS;
use mysqltest1;
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg1';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg2';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg3';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg4';
SET @a1 = '1';
SET @a2 = '1';
SET @a3 = '1';
SET @b1 = '2';
SET @b2 = '2';
SET @b3 = '2';
INSERT INTO t1 VALUES(1);
SELECT msg FROM log;
SELECT COLLATION(@a1) AS ca1, COLLATION(@a2) AS ca2, COLLATION(@a3) AS ca3, COLLATION(@b1) AS cb1, COLLATION(@b2) AS cb2, COLLATION(@b3) AS cb3;
DELETE FROM log;
INSERT INTO mysqltest2.t1 VALUES(1);
SELECT msg FROM mysqltest2.log;
SELECT COLLATION(@a1) AS ca1, COLLATION(@a2) AS ca2, COLLATION(@a3) AS ca3, COLLATION(@b1) AS cb1, COLLATION(@b2) AS cb2, COLLATION(@b3) AS cb3;
DELETE FROM mysqltest2.log;
DROP DATABASE mysqltest1;
DROP DATABASE mysqltest2;
ALTER TABLE mysqltest1.t1 ADD COLUMN fake INT;
ALTER TABLE mysqltest1.t1 DROP COLUMN fake;
ALTER TABLE mysqltest2.t1 ADD COLUMN fake INT;
ALTER TABLE mysqltest2.t1 DROP COLUMN fake;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
INSERT INTO mysqltest1.t1 VALUES(0);
INSERT INTO mysqltest2.t1 VALUES(0);
DELETE FROM mysqltest1.log;
DELETE FROM mysqltest2.log;
set names koi8r;
use mysqltest1;
SHOW CREATE TRIGGER trg1;
SHOW CREATE TRIGGER trg2;
SHOW CREATE TRIGGER mysqltest2.trg3;
SHOW CREATE TRIGGER mysqltest2.trg4;
SHOW TRIGGERS;
use mysqltest2;
SHOW TRIGGERS;
use mysqltest1;
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg1';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg2';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg3';
SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE trigger_name = 'trg4';
SET @a1 = '1';
SET @a2 = '1';
SET @a3 = '1';
SET @b1 = '2';
SET @b2 = '2';
SET @b3 = '2';
INSERT INTO t1 VALUES(1);
SELECT msg FROM log;
SELECT COLLATION(@a1) AS ca1, COLLATION(@a2) AS ca2, COLLATION(@a3) AS ca3, COLLATION(@b1) AS cb1, COLLATION(@b2) AS cb2, COLLATION(@b3) AS cb3;
DELETE FROM log;
INSERT INTO mysqltest2.t1 VALUES(1);
SELECT msg FROM mysqltest2.log;
SELECT COLLATION(@a1) AS ca1, COLLATION(@a2) AS ca2, COLLATION(@a3) AS ca3, COLLATION(@b1) AS cb1, COLLATION(@b2) AS cb2, COLLATION(@b3) AS cb3;
DELETE FROM mysqltest2.log;
use test;
DROP DATABASE mysqltest1;
DROP DATABASE mysqltest2;
DROP DATABASE IF EXISTS mysqltest1;
DROP DATABASE IF EXISTS mysqltest2;
CREATE DATABASE mysqltest1 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
CREATE DATABASE mysqltest2 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
use mysqltest1;
CREATE EVENT ev1 ON SCHEDULE AT '2030-01-01 00:00:00' DO BEGIN DECLARE �����1 CHAR(10); SELECT COLLATION(�����1) AS c1, COLLATION('�����') AS c2, COLLATION(_koi8r    '�����') AS c3, COLLATION(_utf8 'текст') AS c4, @@collation_connection AS c5, @@character_set_client AS c6; END;
CREATE EVENT ev2 ON SCHEDULE AT '2030-01-01 00:00:00' DO BEGIN DECLARE �����1 CHAR(10) CHARACTER SET utf8; SELECT COLLATION(�����1) AS c1, COLLATION('�����') AS c2, COLLATION(_koi8r    '�����') AS c3, COLLATION(_utf8 'текст') AS c4, @@collation_connection AS c5, @@character_set_client AS c6; END;
CREATE EVENT mysqltest2.ev3 ON SCHEDULE AT '2030-01-01 00:00:00' DO BEGIN DECLARE �����1 CHAR(10) CHARACTER SET utf8; SELECT COLLATION(�����1) AS c1, COLLATION('�����') AS c2, COLLATION(_koi8r    '�����') AS c3, COLLATION(_utf8 'текст') AS c4, @@collation_connection AS c5, @@character_set_client AS c6; END;
CREATE EVENT mysqltest2.ev4 ON SCHEDULE AT '2030-01-01 00:00:00' DO BEGIN DECLARE �����1 CHAR(10) CHARACTER SET utf8; SELECT COLLATION(�����1) AS c1, COLLATION('�����') AS c2, COLLATION(_koi8r    '�����') AS c3, COLLATION(_utf8 'текст') AS c4, @@collation_connection AS c5, @@character_set_client AS c6; END;
SHOW CREATE EVENT ev1;
SHOW CREATE EVENT ev2;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW EVENTS LIKE 'ev1';
SHOW EVENTS LIKE 'ev2';
SHOW EVENTS LIKE 'ev3';
SHOW EVENTS LIKE 'ev4';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev1';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev2';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev3';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev4';
ALTER DATABASE mysqltest1 COLLATE cp866_general_ci;
ALTER DATABASE mysqltest2 COLLATE cp866_general_ci;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
SHOW CREATE EVENT ev1;
SHOW CREATE EVENT ev2;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW CREATE EVENT mysqltest2.ev4;
set names koi8r;
SHOW CREATE EVENT ev1;
SHOW CREATE EVENT ev2;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW EVENTS LIKE 'ev1';
SHOW EVENTS LIKE 'ev2';
SHOW EVENTS LIKE 'ev3';
SHOW EVENTS LIKE 'ev4';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev1';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev2';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev3';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev4';
DROP DATABASE mysqltest1;
DROP DATABASE mysqltest2;
SET @@character_set_client= cp1251;
SET @@character_set_results= cp1251;
SET @@collation_connection= cp1251_general_ci;
SHOW CREATE EVENT ev1;
SHOW CREATE EVENT ev2;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW CREATE EVENT mysqltest2.ev4;
set names koi8r;
SHOW CREATE EVENT ev1;
SHOW CREATE EVENT ev2;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW CREATE EVENT mysqltest2.ev3;
SHOW EVENTS LIKE 'ev1';
SHOW EVENTS LIKE 'ev2';
SHOW EVENTS LIKE 'ev3';
SHOW EVENTS LIKE 'ev4';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev1';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev2';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev3';
SELECT * FROM INFORMATION_SCHEMA.EVENTS WHERE event_name = 'ev4';
DROP DATABASE IF EXISTS mysqltest1;
DROP DATABASE IF EXISTS mysqltest2;
CREATE DATABASE mysqltest1 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
CREATE DATABASE mysqltest2 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_unicode_ci;
use mysqltest1;
CREATE PROCEDURE p1() BEGIN CREATE TABLE t1(col1 VARCHAR(10)); SHOW CREATE TABLE t1; END;
CREATE PROCEDURE mysqltest2.p2() BEGIN CREATE TABLE t2(col1 VARCHAR(10)); SHOW CREATE TABLE t2; END;
CALL p1();
SHOW CREATE TABLE t1;
CALL mysqltest2.p2();
SHOW CREATE TABLE mysqltest2.t2;
ALTER DATABASE mysqltest1 COLLATE cp1251_general_cs;
ALTER DATABASE mysqltest2 COLLATE cp1251_general_cs;
DROP TABLE t1;
DROP TABLE mysqltest2.t2;
CALL p1();
SHOW CREATE TABLE t1;
CALL mysqltest2.p2();
SHOW CREATE TABLE mysqltest2.t2;
show session status;
show session status;
USE test;
DROP DATABASE mysqltest1;
DROP DATABASE mysqltest2;
