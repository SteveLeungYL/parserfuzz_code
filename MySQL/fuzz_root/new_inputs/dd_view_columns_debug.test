       let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE TABLE t1 (f1 int);
CREATE VIEW v1 AS SELECT * FROM t1;
SET DEBUG_SYNC="after_preparing_view_tables_list SIGNAL alter_view WAIT_FOR go";
connect (con1, localhost, root,,);
SET DEBUG_SYNC='now WAIT_FOR alter_view';
ALTER VIEW v1 AS select 13;
SET DEBUG_SYNC='now SIGNAL go';
connection default;
FLUSH TABLES;
SHOW FIELDS FROM v1;
connection default;
SET DEBUG_SYNC='RESET';
DROP VIEW v1;
disconnect con1;
       let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE TABLE t1 (f1 int);
CREATE VIEW v1 AS SELECT * FROM t1;
SET DEBUG_SYNC="after_preparing_view_tables_list SIGNAL alter_view WAIT_FOR go";
connect (con1, localhost, root,,);
SET DEBUG_SYNC='now WAIT_FOR alter_view';
ALTER VIEW v1 AS select 13;
SET DEBUG_SYNC='now SIGNAL go';
connection default;
FLUSH TABLES;
SHOW FIELDS FROM v1;
connection default;
SET DEBUG_SYNC='RESET';
DROP VIEW v1;
disconnect con1;
       let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE TABLE t1 (f1 int);
CREATE VIEW v1 AS SELECT * FROM t1;
SET DEBUG_SYNC="after_preparing_view_tables_list SIGNAL alter_view WAIT_FOR go";
connect (con1, localhost, root,,);
SET DEBUG_SYNC='now WAIT_FOR alter_view';
ALTER VIEW v1 AS select 13;
SET DEBUG_SYNC='now SIGNAL go';
connection default;
FLUSH TABLES;
SHOW FIELDS FROM v1;
connection default;
SET DEBUG_SYNC='RESET';
DROP VIEW v1;
disconnect con1;
       let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE TABLE t1 (f1 int);
CREATE VIEW v1 AS SELECT * FROM t1;
SET DEBUG_SYNC="after_preparing_view_tables_list SIGNAL alter_view WAIT_FOR go";
connect (con1, localhost, root,,);
SET DEBUG_SYNC='now WAIT_FOR alter_view';
ALTER VIEW v1 AS select 13;
SET DEBUG_SYNC='now SIGNAL go';
connection default;
FLUSH TABLES;
SHOW FIELDS FROM v1;
connection default;
SET DEBUG_SYNC='RESET';
DROP VIEW v1;
disconnect con1;
       let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE TABLE t1 (f1 int);
CREATE VIEW v1 AS SELECT * FROM t1;
SET DEBUG_SYNC="after_preparing_view_tables_list SIGNAL alter_view WAIT_FOR go";
connect (con1, localhost, root,,);
SET DEBUG_SYNC='now WAIT_FOR alter_view';
ALTER VIEW v1 AS select 13;
SET DEBUG_SYNC='now SIGNAL go';
connection default;
FLUSH TABLES;
SHOW FIELDS FROM v1;
connection default;
SET DEBUG_SYNC='RESET';
DROP VIEW v1;
disconnect con1;
