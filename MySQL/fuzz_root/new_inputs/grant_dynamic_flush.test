   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   enable_connect_log;
SELECT GRANTEE, PRIVILEGE_TYPE, IS_GRANTABLE FROM INFORMATION_SCHEMA.USER_PRIVILEGES  WHERE PRIVILEGE_TYPE LIKE 'FLUSH_%' ORDER BY 1,2,3;
FLUSH HOSTS;
TRUNCATE TABLE performance_schema.host_cache;
CREATE USER wl14303@localhost;
GRANT FLUSH_OPTIMIZER_COSTS ON *.* TO  wl14303@localhost;
connect(FLUSH_OPTIMIZER_COSTS_con,localhost,wl14303,,);
FLUSH OPTIMIZER_COSTS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_OPTIMIZER_COSTS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS ON *.* TO  wl14303@localhost;
connect(FLUSH_STATUS_con,localhost,wl14303,,);
FLUSH STATUS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_STATUS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(FLUSH_USER_RESOURCES_con,localhost,wl14303,,);
FLUSH USER_RESOURCES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_USER_RESOURCES_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_TABLES ON *.* TO wl14303@localhost;
CREATE TABLE t1(a int);
GRANT ALL PRIVILEGES ON t1 TO wl14303@localhost;
connect(FLUSH_TABLES_con,localhost,wl14303,,);
FLUSH TABLES;
FLUSH TABLES t1;
FLUSH TABLES WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 FOR EXPORT;
UNLOCK TABLES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_TABLES_con;
REVOKE ALL PRIVILEGES ON t1 FROM wl14303@localhost;
DROP USER wl14303@localhost;
DROP TABLE t1;
CREATE USER wl14303@localhost;
GRANT RELOAD ON *.* TO wl14303@localhost;
connect(RELOAD_con,localhost,wl14303,,);
FLUSH HOSTS;
FLUSH OPTIMIZER_COSTS;
FLUSH STATUS;
FLUSH USER_RESOURCES;
FLUSH TABLES;
connection default;
disconnect RELOAD_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS,FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(COMBO_con,localhost,wl14303,,);
FLUSH STATUS,OPTIMIZER_COSTS;
FLUSH OPTIMIZER_COSTS,STATUS;
FLUSH STATUS,PRIVILEGES;
FLUSH STATUS,USER_RESOURCES;
connection default;
disconnect COMBO_con;
DROP USER wl14303@localhost;
SET @saved_log_output = @@global.log_output;
SET @saved_general_log = @@global.general_log;
SET global log_output='table';
SET global general_log=on;
SET global general_log=@saved_general_log;
SET global log_output=@saved_log_output;
query_vertical SELECT command_type, argument FROM mysql.general_log WHERE command_type='Query';
TRUNCATE TABLE mysql.general_log;
disable_connect_log;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   enable_connect_log;
SELECT GRANTEE, PRIVILEGE_TYPE, IS_GRANTABLE FROM INFORMATION_SCHEMA.USER_PRIVILEGES  WHERE PRIVILEGE_TYPE LIKE 'FLUSH_%' ORDER BY 1,2,3;
FLUSH HOSTS;
TRUNCATE TABLE performance_schema.host_cache;
CREATE USER wl14303@localhost;
GRANT FLUSH_OPTIMIZER_COSTS ON *.* TO  wl14303@localhost;
connect(FLUSH_OPTIMIZER_COSTS_con,localhost,wl14303,,);
FLUSH OPTIMIZER_COSTS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_OPTIMIZER_COSTS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS ON *.* TO  wl14303@localhost;
connect(FLUSH_STATUS_con,localhost,wl14303,,);
FLUSH STATUS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_STATUS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(FLUSH_USER_RESOURCES_con,localhost,wl14303,,);
FLUSH USER_RESOURCES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_USER_RESOURCES_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_TABLES ON *.* TO wl14303@localhost;
CREATE TABLE t1(a int);
GRANT ALL PRIVILEGES ON t1 TO wl14303@localhost;
connect(FLUSH_TABLES_con,localhost,wl14303,,);
FLUSH TABLES;
FLUSH TABLES t1;
FLUSH TABLES WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 FOR EXPORT;
UNLOCK TABLES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_TABLES_con;
REVOKE ALL PRIVILEGES ON t1 FROM wl14303@localhost;
DROP USER wl14303@localhost;
DROP TABLE t1;
CREATE USER wl14303@localhost;
GRANT RELOAD ON *.* TO wl14303@localhost;
connect(RELOAD_con,localhost,wl14303,,);
FLUSH HOSTS;
FLUSH OPTIMIZER_COSTS;
FLUSH STATUS;
FLUSH USER_RESOURCES;
FLUSH TABLES;
connection default;
disconnect RELOAD_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS,FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(COMBO_con,localhost,wl14303,,);
FLUSH STATUS,OPTIMIZER_COSTS;
FLUSH OPTIMIZER_COSTS,STATUS;
FLUSH STATUS,PRIVILEGES;
FLUSH STATUS,USER_RESOURCES;
connection default;
disconnect COMBO_con;
DROP USER wl14303@localhost;
SET @saved_log_output = @@global.log_output;
SET @saved_general_log = @@global.general_log;
SET global log_output='table';
SET global general_log=on;
SET global general_log=@saved_general_log;
SET global log_output=@saved_log_output;
query_vertical SELECT command_type, argument FROM mysql.general_log WHERE command_type='Query';
TRUNCATE TABLE mysql.general_log;
disable_connect_log;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   enable_connect_log;
SELECT GRANTEE, PRIVILEGE_TYPE, IS_GRANTABLE FROM INFORMATION_SCHEMA.USER_PRIVILEGES  WHERE PRIVILEGE_TYPE LIKE 'FLUSH_%' ORDER BY 1,2,3;
FLUSH HOSTS;
TRUNCATE TABLE performance_schema.host_cache;
CREATE USER wl14303@localhost;
GRANT FLUSH_OPTIMIZER_COSTS ON *.* TO  wl14303@localhost;
connect(FLUSH_OPTIMIZER_COSTS_con,localhost,wl14303,,);
FLUSH OPTIMIZER_COSTS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_OPTIMIZER_COSTS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS ON *.* TO  wl14303@localhost;
connect(FLUSH_STATUS_con,localhost,wl14303,,);
FLUSH STATUS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_STATUS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(FLUSH_USER_RESOURCES_con,localhost,wl14303,,);
FLUSH USER_RESOURCES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_USER_RESOURCES_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_TABLES ON *.* TO wl14303@localhost;
CREATE TABLE t1(a int);
GRANT ALL PRIVILEGES ON t1 TO wl14303@localhost;
connect(FLUSH_TABLES_con,localhost,wl14303,,);
FLUSH TABLES;
FLUSH TABLES t1;
FLUSH TABLES WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 FOR EXPORT;
UNLOCK TABLES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_TABLES_con;
REVOKE ALL PRIVILEGES ON t1 FROM wl14303@localhost;
DROP USER wl14303@localhost;
DROP TABLE t1;
CREATE USER wl14303@localhost;
GRANT RELOAD ON *.* TO wl14303@localhost;
connect(RELOAD_con,localhost,wl14303,,);
FLUSH HOSTS;
FLUSH OPTIMIZER_COSTS;
FLUSH STATUS;
FLUSH USER_RESOURCES;
FLUSH TABLES;
connection default;
disconnect RELOAD_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS,FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(COMBO_con,localhost,wl14303,,);
FLUSH STATUS,OPTIMIZER_COSTS;
FLUSH OPTIMIZER_COSTS,STATUS;
FLUSH STATUS,PRIVILEGES;
FLUSH STATUS,USER_RESOURCES;
connection default;
disconnect COMBO_con;
DROP USER wl14303@localhost;
SET @saved_log_output = @@global.log_output;
SET @saved_general_log = @@global.general_log;
SET global log_output='table';
SET global general_log=on;
SET global general_log=@saved_general_log;
SET global log_output=@saved_log_output;
query_vertical SELECT command_type, argument FROM mysql.general_log WHERE command_type='Query';
TRUNCATE TABLE mysql.general_log;
disable_connect_log;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   enable_connect_log;
SELECT GRANTEE, PRIVILEGE_TYPE, IS_GRANTABLE FROM INFORMATION_SCHEMA.USER_PRIVILEGES  WHERE PRIVILEGE_TYPE LIKE 'FLUSH_%' ORDER BY 1,2,3;
FLUSH HOSTS;
TRUNCATE TABLE performance_schema.host_cache;
CREATE USER wl14303@localhost;
GRANT FLUSH_OPTIMIZER_COSTS ON *.* TO  wl14303@localhost;
connect(FLUSH_OPTIMIZER_COSTS_con,localhost,wl14303,,);
FLUSH OPTIMIZER_COSTS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_OPTIMIZER_COSTS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS ON *.* TO  wl14303@localhost;
connect(FLUSH_STATUS_con,localhost,wl14303,,);
FLUSH STATUS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_STATUS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(FLUSH_USER_RESOURCES_con,localhost,wl14303,,);
FLUSH USER_RESOURCES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_USER_RESOURCES_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_TABLES ON *.* TO wl14303@localhost;
CREATE TABLE t1(a int);
GRANT ALL PRIVILEGES ON t1 TO wl14303@localhost;
connect(FLUSH_TABLES_con,localhost,wl14303,,);
FLUSH TABLES;
FLUSH TABLES t1;
FLUSH TABLES WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 FOR EXPORT;
UNLOCK TABLES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_TABLES_con;
REVOKE ALL PRIVILEGES ON t1 FROM wl14303@localhost;
DROP USER wl14303@localhost;
DROP TABLE t1;
CREATE USER wl14303@localhost;
GRANT RELOAD ON *.* TO wl14303@localhost;
connect(RELOAD_con,localhost,wl14303,,);
FLUSH HOSTS;
FLUSH OPTIMIZER_COSTS;
FLUSH STATUS;
FLUSH USER_RESOURCES;
FLUSH TABLES;
connection default;
disconnect RELOAD_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS,FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(COMBO_con,localhost,wl14303,,);
FLUSH STATUS,OPTIMIZER_COSTS;
FLUSH OPTIMIZER_COSTS,STATUS;
FLUSH STATUS,PRIVILEGES;
FLUSH STATUS,USER_RESOURCES;
connection default;
disconnect COMBO_con;
DROP USER wl14303@localhost;
SET @saved_log_output = @@global.log_output;
SET @saved_general_log = @@global.general_log;
SET global log_output='table';
SET global general_log=on;
SET global general_log=@saved_general_log;
SET global log_output=@saved_log_output;
query_vertical SELECT command_type, argument FROM mysql.general_log WHERE command_type='Query';
TRUNCATE TABLE mysql.general_log;
disable_connect_log;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   enable_connect_log;
SELECT GRANTEE, PRIVILEGE_TYPE, IS_GRANTABLE FROM INFORMATION_SCHEMA.USER_PRIVILEGES  WHERE PRIVILEGE_TYPE LIKE 'FLUSH_%' ORDER BY 1,2,3;
FLUSH HOSTS;
TRUNCATE TABLE performance_schema.host_cache;
CREATE USER wl14303@localhost;
GRANT FLUSH_OPTIMIZER_COSTS ON *.* TO  wl14303@localhost;
connect(FLUSH_OPTIMIZER_COSTS_con,localhost,wl14303,,);
FLUSH OPTIMIZER_COSTS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_OPTIMIZER_COSTS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS ON *.* TO  wl14303@localhost;
connect(FLUSH_STATUS_con,localhost,wl14303,,);
FLUSH STATUS;
FLUSH HOSTS;
connection default;
disconnect FLUSH_STATUS_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(FLUSH_USER_RESOURCES_con,localhost,wl14303,,);
FLUSH USER_RESOURCES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_USER_RESOURCES_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_TABLES ON *.* TO wl14303@localhost;
CREATE TABLE t1(a int);
GRANT ALL PRIVILEGES ON t1 TO wl14303@localhost;
connect(FLUSH_TABLES_con,localhost,wl14303,,);
FLUSH TABLES;
FLUSH TABLES t1;
FLUSH TABLES WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 WITH READ LOCK;
UNLOCK TABLES;
FLUSH TABLES t1 FOR EXPORT;
UNLOCK TABLES;
FLUSH HOSTS;
connection default;
disconnect FLUSH_TABLES_con;
REVOKE ALL PRIVILEGES ON t1 FROM wl14303@localhost;
DROP USER wl14303@localhost;
DROP TABLE t1;
CREATE USER wl14303@localhost;
GRANT RELOAD ON *.* TO wl14303@localhost;
connect(RELOAD_con,localhost,wl14303,,);
FLUSH HOSTS;
FLUSH OPTIMIZER_COSTS;
FLUSH STATUS;
FLUSH USER_RESOURCES;
FLUSH TABLES;
connection default;
disconnect RELOAD_con;
DROP USER wl14303@localhost;
CREATE USER wl14303@localhost;
GRANT FLUSH_STATUS,FLUSH_USER_RESOURCES ON *.* TO  wl14303@localhost;
connect(COMBO_con,localhost,wl14303,,);
FLUSH STATUS,OPTIMIZER_COSTS;
FLUSH OPTIMIZER_COSTS,STATUS;
FLUSH STATUS,PRIVILEGES;
FLUSH STATUS,USER_RESOURCES;
connection default;
disconnect COMBO_con;
DROP USER wl14303@localhost;
SET @saved_log_output = @@global.log_output;
SET @saved_general_log = @@global.general_log;
SET global log_output='table';
SET global general_log=on;
SET global general_log=@saved_general_log;
SET global log_output=@saved_log_output;
query_vertical SELECT command_type, argument FROM mysql.general_log WHERE command_type='Query';
TRUNCATE TABLE mysql.general_log;
disable_connect_log;
