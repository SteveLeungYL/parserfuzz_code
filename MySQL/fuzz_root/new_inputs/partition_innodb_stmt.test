  SET @previous_binlog_format__htnt542nh=@@GLOBAL.binlog_format;
SET @@GLOBAL.binlog_format=STATEMENT;
SET binlog_format=STATEMENT;
SET @@GLOBAL.binlog_format=@previous_binlog_format__htnt542nh;
SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
CREATE TABLE t1  id SMALLINT NOT NULL,  PRIMARY KEY (id)) ENGINE=innodbPARTITION BY RANGE (id)  PARTITION p1 VALUES LESS THAN (2),  PARTITION p2 VALUES LESS THAN (4),  PARTITION p3 VALUES LESS THAN (10));
INSERT INTO t1 VALUES (1),(2),(3);
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
SELECT * FROM t1;
connect (con1, localhost, root,,);
connection con1;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
INSERT INTO t1 VALUES(7);
COMMIT;
connection default;
COMMIT;
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
SELECT * FROM t1;
connection con1;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
INSERT INTO t1 VALUES(9);
COMMIT;
disconnect con1;
connection default;
COMMIT;
DROP TABLE t1;
  SET @previous_binlog_format__htnt542nh=@@GLOBAL.binlog_format;
SET @@GLOBAL.binlog_format=STATEMENT;
SET binlog_format=STATEMENT;
SET @@GLOBAL.binlog_format=@previous_binlog_format__htnt542nh;
SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
CREATE TABLE t1  id SMALLINT NOT NULL,  PRIMARY KEY (id)) ENGINE=innodbPARTITION BY RANGE (id)  PARTITION p1 VALUES LESS THAN (2),  PARTITION p2 VALUES LESS THAN (4),  PARTITION p3 VALUES LESS THAN (10));
INSERT INTO t1 VALUES (1),(2),(3);
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
SELECT * FROM t1;
connect (con1, localhost, root,,);
connection con1;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
INSERT INTO t1 VALUES(7);
COMMIT;
connection default;
COMMIT;
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
SELECT * FROM t1;
connection con1;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
INSERT INTO t1 VALUES(9);
COMMIT;
disconnect con1;
connection default;
COMMIT;
DROP TABLE t1;
  SET @previous_binlog_format__htnt542nh=@@GLOBAL.binlog_format;
SET @@GLOBAL.binlog_format=STATEMENT;
SET binlog_format=STATEMENT;
SET @@GLOBAL.binlog_format=@previous_binlog_format__htnt542nh;
SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
CREATE TABLE t1  id SMALLINT NOT NULL,  PRIMARY KEY (id)) ENGINE=innodbPARTITION BY RANGE (id)  PARTITION p1 VALUES LESS THAN (2),  PARTITION p2 VALUES LESS THAN (4),  PARTITION p3 VALUES LESS THAN (10));
INSERT INTO t1 VALUES (1),(2),(3);
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
SELECT * FROM t1;
connect (con1, localhost, root,,);
connection con1;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
INSERT INTO t1 VALUES(7);
COMMIT;
connection default;
COMMIT;
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
SELECT * FROM t1;
connection con1;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
INSERT INTO t1 VALUES(9);
COMMIT;
disconnect con1;
connection default;
COMMIT;
DROP TABLE t1;
  SET @previous_binlog_format__htnt542nh=@@GLOBAL.binlog_format;
SET @@GLOBAL.binlog_format=STATEMENT;
SET binlog_format=STATEMENT;
SET @@GLOBAL.binlog_format=@previous_binlog_format__htnt542nh;
SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
CREATE TABLE t1  id SMALLINT NOT NULL,  PRIMARY KEY (id)) ENGINE=innodbPARTITION BY RANGE (id)  PARTITION p1 VALUES LESS THAN (2),  PARTITION p2 VALUES LESS THAN (4),  PARTITION p3 VALUES LESS THAN (10));
INSERT INTO t1 VALUES (1),(2),(3);
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
SELECT * FROM t1;
connect (con1, localhost, root,,);
connection con1;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
INSERT INTO t1 VALUES(7);
COMMIT;
connection default;
COMMIT;
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
SELECT * FROM t1;
connection con1;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
INSERT INTO t1 VALUES(9);
COMMIT;
disconnect con1;
connection default;
COMMIT;
DROP TABLE t1;
  SET @previous_binlog_format__htnt542nh=@@GLOBAL.binlog_format;
SET @@GLOBAL.binlog_format=STATEMENT;
SET binlog_format=STATEMENT;
SET @@GLOBAL.binlog_format=@previous_binlog_format__htnt542nh;
SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;
CREATE TABLE t1  id SMALLINT NOT NULL,  PRIMARY KEY (id)) ENGINE=innodbPARTITION BY RANGE (id)  PARTITION p1 VALUES LESS THAN (2),  PARTITION p2 VALUES LESS THAN (4),  PARTITION p3 VALUES LESS THAN (10));
INSERT INTO t1 VALUES (1),(2),(3);
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
SELECT * FROM t1;
connect (con1, localhost, root,,);
connection con1;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
INSERT INTO t1 VALUES(7);
COMMIT;
connection default;
COMMIT;
FLUSH TABLES;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
BEGIN;
SELECT * FROM t1;
connection con1;
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
BEGIN;
INSERT INTO t1 VALUES(9);
COMMIT;
disconnect con1;
connection default;
COMMIT;
DROP TABLE t1;
