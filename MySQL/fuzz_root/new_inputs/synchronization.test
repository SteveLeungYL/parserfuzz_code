   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
    #Get deafult engine valueDROP TABLE IF EXISTS t1,t2;
connect (con1,localhost,root,,);
connect (con2,localhost,root,,);
CREATE TABLE t1 (x1 INT);
while ($1)  connection con1;
    send ALTER TABLE t1 CHANGE x1 x2 INT;
  connection con2;
    CREATE TABLE t2 LIKE t1;
    replace_result x1 xx x2 xx $DEFAULT_ENGINE ENGINE;
    SHOW CREATE TABLE t2;
    DROP TABLE t2;
  connection con1;
    reap;
    send ALTER TABLE t1 CHANGE x2 x1 INT;
  connection con2;
    CREATE TABLE t2 LIKE t1;
    replace_result x1 xx x2 xx $DEFAULT_ENGINE ENGINE;
    SHOW CREATE TABLE t2;
    DROP TABLE t2;
  connection con1;
    reap;
  dec $1;
DROP TABLE t1;
connection default;
disconnect con1;
disconnect con2;
