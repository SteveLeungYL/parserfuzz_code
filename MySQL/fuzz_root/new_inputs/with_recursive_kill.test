connect (con1, localhost, root,,);
connect (con2, localhost, root,,);
connection con1;
connection con2;
connection con1;
SET @@SESSION.cte_max_recursion_depth = 1000000000;
SET DEBUG_SYNC='in_WITH_RECURSIVE SIGNAL with_recursive_has_started';
sendwith recursive q (num, mark) as ( select 1, "a" union all select 1+num, "b" from q where mark="a" union all select 1+num, "a" from q where mark="b"select num from q;
connection con2;
SET DEBUG_SYNC='now WAIT_FOR with_recursive_has_started';
KILL QUERY @id;
connection con1;
reap;
SET DEBUG_SYNC= 'RESET';
SELECT 1;
connection con2;
SET DEBUG_SYNC= 'RESET';
connection con1;
SET @@SESSION.max_execution_time= 1000; # 1 secondwith recursive q (b) as (select 1 union all select 1+b from q)select b from q;
SELECT 1;
connection default;
disconnect con1;
disconnect con2;
connect (con1, localhost, root,,);
connect (con2, localhost, root,,);
connection con1;
connection con2;
connection con1;
SET @@SESSION.cte_max_recursion_depth = 1000000000;
SET DEBUG_SYNC='in_WITH_RECURSIVE SIGNAL with_recursive_has_started';
sendwith recursive q (num, mark) as ( select 1, "a" union all select 1+num, "b" from q where mark="a" union all select 1+num, "a" from q where mark="b"select num from q;
connection con2;
SET DEBUG_SYNC='now WAIT_FOR with_recursive_has_started';
KILL QUERY @id;
connection con1;
reap;
SET DEBUG_SYNC= 'RESET';
SELECT 1;
connection con2;
SET DEBUG_SYNC= 'RESET';
connection con1;
SET @@SESSION.max_execution_time= 1000; # 1 secondwith recursive q (b) as (select 1 union all select 1+b from q)select b from q;
SELECT 1;
connection default;
disconnect con1;
disconnect con2;
connect (con1, localhost, root,,);
connect (con2, localhost, root,,);
connection con1;
connection con2;
connection con1;
SET @@SESSION.cte_max_recursion_depth = 1000000000;
SET DEBUG_SYNC='in_WITH_RECURSIVE SIGNAL with_recursive_has_started';
sendwith recursive q (num, mark) as ( select 1, "a" union all select 1+num, "b" from q where mark="a" union all select 1+num, "a" from q where mark="b"select num from q;
connection con2;
SET DEBUG_SYNC='now WAIT_FOR with_recursive_has_started';
KILL QUERY @id;
connection con1;
reap;
SET DEBUG_SYNC= 'RESET';
SELECT 1;
connection con2;
SET DEBUG_SYNC= 'RESET';
connection con1;
SET @@SESSION.max_execution_time= 1000; # 1 secondwith recursive q (b) as (select 1 union all select 1+b from q)select b from q;
SELECT 1;
connection default;
disconnect con1;
disconnect con2;
connect (con1, localhost, root,,);
connect (con2, localhost, root,,);
connection con1;
connection con2;
connection con1;
SET @@SESSION.cte_max_recursion_depth = 1000000000;
SET DEBUG_SYNC='in_WITH_RECURSIVE SIGNAL with_recursive_has_started';
sendwith recursive q (num, mark) as ( select 1, "a" union all select 1+num, "b" from q where mark="a" union all select 1+num, "a" from q where mark="b"select num from q;
connection con2;
SET DEBUG_SYNC='now WAIT_FOR with_recursive_has_started';
KILL QUERY @id;
connection con1;
reap;
SET DEBUG_SYNC= 'RESET';
SELECT 1;
connection con2;
SET DEBUG_SYNC= 'RESET';
connection con1;
SET @@SESSION.max_execution_time= 1000; # 1 secondwith recursive q (b) as (select 1 union all select 1+b from q)select b from q;
SELECT 1;
connection default;
disconnect con1;
disconnect con2;
connect (con1, localhost, root,,);
connect (con2, localhost, root,,);
connection con1;
connection con2;
connection con1;
SET @@SESSION.cte_max_recursion_depth = 1000000000;
SET DEBUG_SYNC='in_WITH_RECURSIVE SIGNAL with_recursive_has_started';
sendwith recursive q (num, mark) as ( select 1, "a" union all select 1+num, "b" from q where mark="a" union all select 1+num, "a" from q where mark="b"select num from q;
connection con2;
SET DEBUG_SYNC='now WAIT_FOR with_recursive_has_started';
KILL QUERY @id;
connection con1;
reap;
SET DEBUG_SYNC= 'RESET';
SELECT 1;
connection con2;
SET DEBUG_SYNC= 'RESET';
connection con1;
SET @@SESSION.max_execution_time= 1000; # 1 secondwith recursive q (b) as (select 1 union all select 1+b from q)select b from q;
SELECT 1;
connection default;
disconnect con1;
disconnect con2;
