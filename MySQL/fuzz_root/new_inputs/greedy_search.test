  if (!$BIG_TEST)  {      }eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
CREATE TABLE tbl10(  k INT NOT NULL AUTO_INCREMENT,  i INT,  PRIMARY KEY(k));
INSERT INTO tbl10(i) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(0);
CREATE TABLE tbl100 LIKE tbl10;
INSERT INTO tbl100(i) SELECT x.i FROM tbl10 AS x, tbl10 AS y;
WHILE ($i < 10)          # Update index statistics              # Update index statistics      inc $i;
}  eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
DROP TABLE tbl10, tbl100;
DROP TABLE t10_1,t10_2,t10_3,t10_4,t10_5,t10_6,t10_7,t10_8,t10_9;
DROP TABLE t100_1,t100_2,t100_3,t100_4,t100_5,t100_6,t100_7,t100_8,t100_9;
UPDATE mysql.engine_costSET cost_value = 1.0WHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
connect (con1, localhost, root,,);
eval CREATE TABLE brands (  id_pk int PRIMARY KEY,   id_nokey int,   name varchar(100));
while ($i<$brands)  inc $i;
  eval INSERT INTO brands VALUES ($i, $i, concat('brand',$i));
eval CREATE TABLE models (  id_pk int PRIMARY KEY,   id_nokey int,   brand_id int,   name varchar(100),   INDEX(`brand_id`));
while ($i<$brands)  inc $i;
  let $j=0;
  while ($j<$models_pr_brand)  {     inc $cnt;
    inc $j;
    eval INSERT INTO models VALUES ($cnt, $cnt, $i, concat('brandmodel',$cnt));    }eval CREATE TABLE subtypes (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO subtypes VALUES ($i, $i, concat('subtype',$i));
eval CREATE TABLE colors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO colors VALUES ($i, $i, concat('color',$i));
eval CREATE TABLE heating (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO heating VALUES ($i, $i, concat('heating',$i));
eval CREATE TABLE windows (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO windows VALUES ($i, $i, concat('window',$i));
eval CREATE TABLE fuels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO fuels VALUES ($i, $i, concat('fuel',$i));
eval CREATE TABLE transmissions (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO transmissions VALUES ($i, $i, concat('transmission',$i));
eval CREATE TABLE steerings (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO steerings VALUES ($i, $i, concat('steering',$i));
eval CREATE TABLE interiors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO interiors VALUES ($i, $i, concat('interior',$i));
eval CREATE TABLE drives (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO drives VALUES ($i, $i, concat('drive',$i));
eval CREATE TABLE wheels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO wheels VALUES ($i, $i, concat('wheel',$i));
eval CREATE TABLE engine (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO engine VALUES ($i, $i, concat('engine',$i));
eval CREATE TABLE price_ranges (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO price_ranges VALUES ($i, $i, concat('price',$i));
eval CREATE TABLE countries (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO countries VALUES ($i, $i, concat('country',$i));
eval CREATE TABLE vehicles (  id int primary key,   model_id int,   subtype_id int,   color_id int,   heating_id int,   window_id int,   fuel_id int,   transmission_id int,   steering_id int,   interior_id int,   drive_id int,   price_range_id int,   assembled_in int,   engine_id int,   wheels_id int);
while ($i<$vehicles)  inc $i;
  eval INSERT INTO vehicles VALUES ($i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i );
ANALYZE TABLE models, subtypes, colors, heating, windows, fuels, transmissions, steerings, interiors, drives, wheels, engine, price_ranges, countries, brands;
SET SESSION optimizer_search_depth = 25; FLUSH STATUS;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_pk  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_pk  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_pk  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_pk  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_pk;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_nokey  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_nokey  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_nokey  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_nokey  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_nokey;
select @@optimizer_search_depth;
select @@optimizer_prune_level;
DROP TABLE vehicles, models, subtypes, colors, heating, windows,            fuels, transmissions, steerings, interiors, drives,            price_ranges, countries, brands, wheels, engine;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.colidx = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.col = t100_$i.colidx;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.col;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.pk = t10_$j.col;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
UPDATE mysql.engine_costSET cost_value = DEFAULTWHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
  if (!$BIG_TEST)  {      }eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
CREATE TABLE tbl10(  k INT NOT NULL AUTO_INCREMENT,  i INT,  PRIMARY KEY(k));
INSERT INTO tbl10(i) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(0);
CREATE TABLE tbl100 LIKE tbl10;
INSERT INTO tbl100(i) SELECT x.i FROM tbl10 AS x, tbl10 AS y;
WHILE ($i < 10)          # Update index statistics              # Update index statistics      inc $i;
}  eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
DROP TABLE tbl10, tbl100;
DROP TABLE t10_1,t10_2,t10_3,t10_4,t10_5,t10_6,t10_7,t10_8,t10_9;
DROP TABLE t100_1,t100_2,t100_3,t100_4,t100_5,t100_6,t100_7,t100_8,t100_9;
UPDATE mysql.engine_costSET cost_value = 1.0WHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
connect (con1, localhost, root,,);
eval CREATE TABLE brands (  id_pk int PRIMARY KEY,   id_nokey int,   name varchar(100));
while ($i<$brands)  inc $i;
  eval INSERT INTO brands VALUES ($i, $i, concat('brand',$i));
eval CREATE TABLE models (  id_pk int PRIMARY KEY,   id_nokey int,   brand_id int,   name varchar(100),   INDEX(`brand_id`));
while ($i<$brands)  inc $i;
  let $j=0;
  while ($j<$models_pr_brand)  {     inc $cnt;
    inc $j;
    eval INSERT INTO models VALUES ($cnt, $cnt, $i, concat('brandmodel',$cnt));    }eval CREATE TABLE subtypes (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO subtypes VALUES ($i, $i, concat('subtype',$i));
eval CREATE TABLE colors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO colors VALUES ($i, $i, concat('color',$i));
eval CREATE TABLE heating (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO heating VALUES ($i, $i, concat('heating',$i));
eval CREATE TABLE windows (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO windows VALUES ($i, $i, concat('window',$i));
eval CREATE TABLE fuels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO fuels VALUES ($i, $i, concat('fuel',$i));
eval CREATE TABLE transmissions (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO transmissions VALUES ($i, $i, concat('transmission',$i));
eval CREATE TABLE steerings (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO steerings VALUES ($i, $i, concat('steering',$i));
eval CREATE TABLE interiors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO interiors VALUES ($i, $i, concat('interior',$i));
eval CREATE TABLE drives (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO drives VALUES ($i, $i, concat('drive',$i));
eval CREATE TABLE wheels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO wheels VALUES ($i, $i, concat('wheel',$i));
eval CREATE TABLE engine (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO engine VALUES ($i, $i, concat('engine',$i));
eval CREATE TABLE price_ranges (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO price_ranges VALUES ($i, $i, concat('price',$i));
eval CREATE TABLE countries (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO countries VALUES ($i, $i, concat('country',$i));
eval CREATE TABLE vehicles (  id int primary key,   model_id int,   subtype_id int,   color_id int,   heating_id int,   window_id int,   fuel_id int,   transmission_id int,   steering_id int,   interior_id int,   drive_id int,   price_range_id int,   assembled_in int,   engine_id int,   wheels_id int);
while ($i<$vehicles)  inc $i;
  eval INSERT INTO vehicles VALUES ($i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i );
ANALYZE TABLE models, subtypes, colors, heating, windows, fuels, transmissions, steerings, interiors, drives, wheels, engine, price_ranges, countries, brands;
SET SESSION optimizer_search_depth = 25; FLUSH STATUS;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_pk  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_pk  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_pk  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_pk  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_pk;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_nokey  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_nokey  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_nokey  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_nokey  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_nokey;
select @@optimizer_search_depth;
select @@optimizer_prune_level;
DROP TABLE vehicles, models, subtypes, colors, heating, windows,            fuels, transmissions, steerings, interiors, drives,            price_ranges, countries, brands, wheels, engine;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.colidx = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.col = t100_$i.colidx;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.col;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.pk = t10_$j.col;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
UPDATE mysql.engine_costSET cost_value = DEFAULTWHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
  if (!$BIG_TEST)  {      }eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
CREATE TABLE tbl10(  k INT NOT NULL AUTO_INCREMENT,  i INT,  PRIMARY KEY(k));
INSERT INTO tbl10(i) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(0);
CREATE TABLE tbl100 LIKE tbl10;
INSERT INTO tbl100(i) SELECT x.i FROM tbl10 AS x, tbl10 AS y;
WHILE ($i < 10)          # Update index statistics              # Update index statistics      inc $i;
}  eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
DROP TABLE tbl10, tbl100;
DROP TABLE t10_1,t10_2,t10_3,t10_4,t10_5,t10_6,t10_7,t10_8,t10_9;
DROP TABLE t100_1,t100_2,t100_3,t100_4,t100_5,t100_6,t100_7,t100_8,t100_9;
UPDATE mysql.engine_costSET cost_value = 1.0WHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
connect (con1, localhost, root,,);
eval CREATE TABLE brands (  id_pk int PRIMARY KEY,   id_nokey int,   name varchar(100));
while ($i<$brands)  inc $i;
  eval INSERT INTO brands VALUES ($i, $i, concat('brand',$i));
eval CREATE TABLE models (  id_pk int PRIMARY KEY,   id_nokey int,   brand_id int,   name varchar(100),   INDEX(`brand_id`));
while ($i<$brands)  inc $i;
  let $j=0;
  while ($j<$models_pr_brand)  {     inc $cnt;
    inc $j;
    eval INSERT INTO models VALUES ($cnt, $cnt, $i, concat('brandmodel',$cnt));    }eval CREATE TABLE subtypes (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO subtypes VALUES ($i, $i, concat('subtype',$i));
eval CREATE TABLE colors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO colors VALUES ($i, $i, concat('color',$i));
eval CREATE TABLE heating (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO heating VALUES ($i, $i, concat('heating',$i));
eval CREATE TABLE windows (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO windows VALUES ($i, $i, concat('window',$i));
eval CREATE TABLE fuels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO fuels VALUES ($i, $i, concat('fuel',$i));
eval CREATE TABLE transmissions (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO transmissions VALUES ($i, $i, concat('transmission',$i));
eval CREATE TABLE steerings (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO steerings VALUES ($i, $i, concat('steering',$i));
eval CREATE TABLE interiors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO interiors VALUES ($i, $i, concat('interior',$i));
eval CREATE TABLE drives (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO drives VALUES ($i, $i, concat('drive',$i));
eval CREATE TABLE wheels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO wheels VALUES ($i, $i, concat('wheel',$i));
eval CREATE TABLE engine (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO engine VALUES ($i, $i, concat('engine',$i));
eval CREATE TABLE price_ranges (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO price_ranges VALUES ($i, $i, concat('price',$i));
eval CREATE TABLE countries (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO countries VALUES ($i, $i, concat('country',$i));
eval CREATE TABLE vehicles (  id int primary key,   model_id int,   subtype_id int,   color_id int,   heating_id int,   window_id int,   fuel_id int,   transmission_id int,   steering_id int,   interior_id int,   drive_id int,   price_range_id int,   assembled_in int,   engine_id int,   wheels_id int);
while ($i<$vehicles)  inc $i;
  eval INSERT INTO vehicles VALUES ($i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i );
ANALYZE TABLE models, subtypes, colors, heating, windows, fuels, transmissions, steerings, interiors, drives, wheels, engine, price_ranges, countries, brands;
SET SESSION optimizer_search_depth = 25; FLUSH STATUS;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_pk  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_pk  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_pk  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_pk  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_pk;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_nokey  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_nokey  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_nokey  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_nokey  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_nokey;
select @@optimizer_search_depth;
select @@optimizer_prune_level;
DROP TABLE vehicles, models, subtypes, colors, heating, windows,            fuels, transmissions, steerings, interiors, drives,            price_ranges, countries, brands, wheels, engine;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.colidx = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.col = t100_$i.colidx;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.col;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.pk = t10_$j.col;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
UPDATE mysql.engine_costSET cost_value = DEFAULTWHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
  if (!$BIG_TEST)  {      }eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
CREATE TABLE tbl10(  k INT NOT NULL AUTO_INCREMENT,  i INT,  PRIMARY KEY(k));
INSERT INTO tbl10(i) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(0);
CREATE TABLE tbl100 LIKE tbl10;
INSERT INTO tbl100(i) SELECT x.i FROM tbl10 AS x, tbl10 AS y;
WHILE ($i < 10)          # Update index statistics              # Update index statistics      inc $i;
}  eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
DROP TABLE tbl10, tbl100;
DROP TABLE t10_1,t10_2,t10_3,t10_4,t10_5,t10_6,t10_7,t10_8,t10_9;
DROP TABLE t100_1,t100_2,t100_3,t100_4,t100_5,t100_6,t100_7,t100_8,t100_9;
UPDATE mysql.engine_costSET cost_value = 1.0WHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
connect (con1, localhost, root,,);
eval CREATE TABLE brands (  id_pk int PRIMARY KEY,   id_nokey int,   name varchar(100));
while ($i<$brands)  inc $i;
  eval INSERT INTO brands VALUES ($i, $i, concat('brand',$i));
eval CREATE TABLE models (  id_pk int PRIMARY KEY,   id_nokey int,   brand_id int,   name varchar(100),   INDEX(`brand_id`));
while ($i<$brands)  inc $i;
  let $j=0;
  while ($j<$models_pr_brand)  {     inc $cnt;
    inc $j;
    eval INSERT INTO models VALUES ($cnt, $cnt, $i, concat('brandmodel',$cnt));    }eval CREATE TABLE subtypes (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO subtypes VALUES ($i, $i, concat('subtype',$i));
eval CREATE TABLE colors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO colors VALUES ($i, $i, concat('color',$i));
eval CREATE TABLE heating (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO heating VALUES ($i, $i, concat('heating',$i));
eval CREATE TABLE windows (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO windows VALUES ($i, $i, concat('window',$i));
eval CREATE TABLE fuels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO fuels VALUES ($i, $i, concat('fuel',$i));
eval CREATE TABLE transmissions (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO transmissions VALUES ($i, $i, concat('transmission',$i));
eval CREATE TABLE steerings (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO steerings VALUES ($i, $i, concat('steering',$i));
eval CREATE TABLE interiors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO interiors VALUES ($i, $i, concat('interior',$i));
eval CREATE TABLE drives (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO drives VALUES ($i, $i, concat('drive',$i));
eval CREATE TABLE wheels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO wheels VALUES ($i, $i, concat('wheel',$i));
eval CREATE TABLE engine (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO engine VALUES ($i, $i, concat('engine',$i));
eval CREATE TABLE price_ranges (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO price_ranges VALUES ($i, $i, concat('price',$i));
eval CREATE TABLE countries (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO countries VALUES ($i, $i, concat('country',$i));
eval CREATE TABLE vehicles (  id int primary key,   model_id int,   subtype_id int,   color_id int,   heating_id int,   window_id int,   fuel_id int,   transmission_id int,   steering_id int,   interior_id int,   drive_id int,   price_range_id int,   assembled_in int,   engine_id int,   wheels_id int);
while ($i<$vehicles)  inc $i;
  eval INSERT INTO vehicles VALUES ($i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i );
ANALYZE TABLE models, subtypes, colors, heating, windows, fuels, transmissions, steerings, interiors, drives, wheels, engine, price_ranges, countries, brands;
SET SESSION optimizer_search_depth = 25; FLUSH STATUS;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_pk  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_pk  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_pk  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_pk  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_pk;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_nokey  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_nokey  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_nokey  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_nokey  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_nokey;
select @@optimizer_search_depth;
select @@optimizer_prune_level;
DROP TABLE vehicles, models, subtypes, colors, heating, windows,            fuels, transmissions, steerings, interiors, drives,            price_ranges, countries, brands, wheels, engine;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.colidx = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.col = t100_$i.colidx;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.col;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.pk = t10_$j.col;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
UPDATE mysql.engine_costSET cost_value = DEFAULTWHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
  if (!$BIG_TEST)  {      }eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
CREATE TABLE tbl10(  k INT NOT NULL AUTO_INCREMENT,  i INT,  PRIMARY KEY(k));
INSERT INTO tbl10(i) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(0);
CREATE TABLE tbl100 LIKE tbl10;
INSERT INTO tbl100(i) SELECT x.i FROM tbl10 AS x, tbl10 AS y;
WHILE ($i < 10)          # Update index statistics              # Update index statistics      inc $i;
}  eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
DROP TABLE tbl10, tbl100;
DROP TABLE t10_1,t10_2,t10_3,t10_4,t10_5,t10_6,t10_7,t10_8,t10_9;
DROP TABLE t100_1,t100_2,t100_3,t100_4,t100_5,t100_6,t100_7,t100_8,t100_9;
UPDATE mysql.engine_costSET cost_value = 1.0WHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
connect (con1, localhost, root,,);
eval CREATE TABLE brands (  id_pk int PRIMARY KEY,   id_nokey int,   name varchar(100));
while ($i<$brands)  inc $i;
  eval INSERT INTO brands VALUES ($i, $i, concat('brand',$i));
eval CREATE TABLE models (  id_pk int PRIMARY KEY,   id_nokey int,   brand_id int,   name varchar(100),   INDEX(`brand_id`));
while ($i<$brands)  inc $i;
  let $j=0;
  while ($j<$models_pr_brand)  {     inc $cnt;
    inc $j;
    eval INSERT INTO models VALUES ($cnt, $cnt, $i, concat('brandmodel',$cnt));    }eval CREATE TABLE subtypes (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO subtypes VALUES ($i, $i, concat('subtype',$i));
eval CREATE TABLE colors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO colors VALUES ($i, $i, concat('color',$i));
eval CREATE TABLE heating (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO heating VALUES ($i, $i, concat('heating',$i));
eval CREATE TABLE windows (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO windows VALUES ($i, $i, concat('window',$i));
eval CREATE TABLE fuels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO fuels VALUES ($i, $i, concat('fuel',$i));
eval CREATE TABLE transmissions (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO transmissions VALUES ($i, $i, concat('transmission',$i));
eval CREATE TABLE steerings (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO steerings VALUES ($i, $i, concat('steering',$i));
eval CREATE TABLE interiors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO interiors VALUES ($i, $i, concat('interior',$i));
eval CREATE TABLE drives (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO drives VALUES ($i, $i, concat('drive',$i));
eval CREATE TABLE wheels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO wheels VALUES ($i, $i, concat('wheel',$i));
eval CREATE TABLE engine (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO engine VALUES ($i, $i, concat('engine',$i));
eval CREATE TABLE price_ranges (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO price_ranges VALUES ($i, $i, concat('price',$i));
eval CREATE TABLE countries (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO countries VALUES ($i, $i, concat('country',$i));
eval CREATE TABLE vehicles (  id int primary key,   model_id int,   subtype_id int,   color_id int,   heating_id int,   window_id int,   fuel_id int,   transmission_id int,   steering_id int,   interior_id int,   drive_id int,   price_range_id int,   assembled_in int,   engine_id int,   wheels_id int);
while ($i<$vehicles)  inc $i;
  eval INSERT INTO vehicles VALUES ($i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i );
ANALYZE TABLE models, subtypes, colors, heating, windows, fuels, transmissions, steerings, interiors, drives, wheels, engine, price_ranges, countries, brands;
SET SESSION optimizer_search_depth = 25; FLUSH STATUS;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_pk  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_pk  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_pk  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_pk  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_pk;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_nokey  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_nokey  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_nokey  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_nokey  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_nokey;
select @@optimizer_search_depth;
select @@optimizer_prune_level;
DROP TABLE vehicles, models, subtypes, colors, heating, windows,            fuels, transmissions, steerings, interiors, drives,            price_ranges, countries, brands, wheels, engine;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.colidx = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.col = t100_$i.colidx;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.col;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.pk = t10_$j.col;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
UPDATE mysql.engine_costSET cost_value = DEFAULTWHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
  if (!$BIG_TEST)  {      }eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
CREATE TABLE tbl10(  k INT NOT NULL AUTO_INCREMENT,  i INT,  PRIMARY KEY(k));
INSERT INTO tbl10(i) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(0);
CREATE TABLE tbl100 LIKE tbl10;
INSERT INTO tbl100(i) SELECT x.i FROM tbl10 AS x, tbl10 AS y;
WHILE ($i < 10)          # Update index statistics              # Update index statistics      inc $i;
}  eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
eval EXPLAIN $query;
  query_get_value(SHOW STATUS LIKE 'Last_query_partial_plans', Value, 1);
FLUSH STATUS;
DROP TABLE tbl10, tbl100;
DROP TABLE t10_1,t10_2,t10_3,t10_4,t10_5,t10_6,t10_7,t10_8,t10_9;
DROP TABLE t100_1,t100_2,t100_3,t100_4,t100_5,t100_6,t100_7,t100_8,t100_9;
UPDATE mysql.engine_costSET cost_value = 1.0WHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
connect (con1, localhost, root,,);
eval CREATE TABLE brands (  id_pk int PRIMARY KEY,   id_nokey int,   name varchar(100));
while ($i<$brands)  inc $i;
  eval INSERT INTO brands VALUES ($i, $i, concat('brand',$i));
eval CREATE TABLE models (  id_pk int PRIMARY KEY,   id_nokey int,   brand_id int,   name varchar(100),   INDEX(`brand_id`));
while ($i<$brands)  inc $i;
  let $j=0;
  while ($j<$models_pr_brand)  {     inc $cnt;
    inc $j;
    eval INSERT INTO models VALUES ($cnt, $cnt, $i, concat('brandmodel',$cnt));    }eval CREATE TABLE subtypes (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO subtypes VALUES ($i, $i, concat('subtype',$i));
eval CREATE TABLE colors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO colors VALUES ($i, $i, concat('color',$i));
eval CREATE TABLE heating (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO heating VALUES ($i, $i, concat('heating',$i));
eval CREATE TABLE windows (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO windows VALUES ($i, $i, concat('window',$i));
eval CREATE TABLE fuels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO fuels VALUES ($i, $i, concat('fuel',$i));
eval CREATE TABLE transmissions (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO transmissions VALUES ($i, $i, concat('transmission',$i));
eval CREATE TABLE steerings (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO steerings VALUES ($i, $i, concat('steering',$i));
eval CREATE TABLE interiors (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO interiors VALUES ($i, $i, concat('interior',$i));
eval CREATE TABLE drives (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO drives VALUES ($i, $i, concat('drive',$i));
eval CREATE TABLE wheels (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO wheels VALUES ($i, $i, concat('wheel',$i));
eval CREATE TABLE engine (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO engine VALUES ($i, $i, concat('engine',$i));
eval CREATE TABLE price_ranges (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_small)  inc $i;
  eval INSERT INTO price_ranges VALUES ($i, $i, concat('price',$i));
eval CREATE TABLE countries (  id_pk int primary key,   id_nokey int,   name varchar(100));
while ($i<$misc_properties_big)  inc $i;
  eval INSERT INTO countries VALUES ($i, $i, concat('country',$i));
eval CREATE TABLE vehicles (  id int primary key,   model_id int,   subtype_id int,   color_id int,   heating_id int,   window_id int,   fuel_id int,   transmission_id int,   steering_id int,   interior_id int,   drive_id int,   price_range_id int,   assembled_in int,   engine_id int,   wheels_id int);
while ($i<$vehicles)  inc $i;
  eval INSERT INTO vehicles VALUES ($i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i, $i%2, $i%3, $i%4, $i%5, $i%6, $i%7,                                     $i );
ANALYZE TABLE models, subtypes, colors, heating, windows, fuels, transmissions, steerings, interiors, drives, wheels, engine, price_ranges, countries, brands;
SET SESSION optimizer_search_depth = 25; FLUSH STATUS;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_pk  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_pk  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_pk  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_pk  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_pk;
SELECT *FROM vehicles  JOIN models        ON vehicles.model_id        = models.id_nokey  JOIN subtypes      ON vehicles.subtype_id      = subtypes.id_pk  JOIN colors        ON vehicles.color_id        = colors.id_pk  JOIN heating       ON vehicles.heating_id      = heating.id_nokey  JOIN windows       ON vehicles.window_id       = windows.id_pk  JOIN fuels         ON vehicles.fuel_id         = fuels.id_pk  JOIN transmissions ON vehicles.transmission_id = transmissions.id_nokey  JOIN steerings     ON vehicles.steering_id     = steerings.id_pk  JOIN interiors     ON vehicles.interior_id     = interiors.id_pk  JOIN drives        ON vehicles.drive_id        = drives.id_pk  JOIN wheels        ON vehicles.wheels_id       = wheels.id_nokey  JOIN engine        ON vehicles.engine_id       = engine.id_pk  JOIN price_ranges  ON vehicles.price_range_id  = price_ranges.id_pk  JOIN countries     ON vehicles.assembled_in    = countries.id_pk  JOIN brands        ON models.brand_id          = brands.id_nokey;
select @@optimizer_search_depth;
select @@optimizer_prune_level;
DROP TABLE vehicles, models, subtypes, colors, heating, windows,            fuels, transmissions, steerings, interiors, drives,            price_ranges, countries, brands, wheels, engine;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.colidx = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.col = t100_$i.colidx;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.col;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.pk = t10_$j.col;
  inc $i;
while ($i < 8)  let $query= $query JOIN t100_$i ON t10_$i.colidx = t100_$i.pk;
  let $j=$i;
  inc $j;
  let $query= $query JOIN t10_$j ON t100_$i.col = t10_$j.pk;
  inc $i;
UPDATE mysql.engine_costSET cost_value = DEFAULTWHERE cost_name = 'memory_block_read_cost';
FLUSH OPTIMIZER_COSTS;
