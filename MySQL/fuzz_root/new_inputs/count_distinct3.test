       let $have_debug = `select convert (@@version using latin1) like '%debug%'`;
   if ( $have_debug )   {      skip Test requires: 'not_sparc_debug';
   }disable_query_log;
  skip Test requires: 'not_ubsan';
enable_query_log;
DROP TABLE IF EXISTS t1, t2;
CREATE TABLE t1 (id INTEGER, grp TINYINT, id_rev INTEGER);
SET @rnd_max= 2147483647;
while ($1)  SET @rnd= RAND();
  SET @id = CAST(@rnd * @rnd_max AS UNSIGNED);
  SET @id_rev= @rnd_max - @id;
  SET @grp= CAST(127.0 * @rnd AS UNSIGNED);   INSERT INTO t1 (id, grp, id_rev) VALUES (@id, @grp, @id_rev);   dec $1;
SET @orig_myisam_sort_buffer_size = @@session.myisam_sort_buffer_size;
SET session myisam_sort_buffer_size=20000000;
INSERT INTO t1SELECT A.id, A.grp, A.id_revFROM   t1 A,  (SELECT * FROM t1 B LIMIT 100) B,  (SELECT * FROM t1 Z LIMIT 42) Z;
SELECT COUNT(*) FROM t1;
SELECT COUNT(DISTINCT id) FROM t1 GROUP BY grp;
SET session myisam_sort_buffer_size = @orig_myisam_sort_buffer_size;
DROP TABLE t1;
