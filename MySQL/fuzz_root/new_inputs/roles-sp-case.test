   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE USER b30896461_test1@localhost;
CREATE USER b30896461_test2@localhost;
CREATE SCHEMA `B30896461`;
CREATE FUNCTION `B30896461`.`testFn`() RETURNS INTEGER DETERMINISTIC RETURN 1;
GRANT b30896461_test1@localhost TO b30896461_test2@localhost;
GRANT EXECUTE ON FUNCTION `B30896461`.`testFn` TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test2@localhost;
FLUSH PRIVILEGES;
connect(con_b30896461_test1,localhost,b30896461_test1,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connect(con_b30896461_test2,localhost,b30896461_test2,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connection default;
disconnect con_b30896461_test1;
disconnect con_b30896461_test2;
DROP USER b30896461_test1@localhost, b30896461_test2@localhost;
DROP SCHEMA `B30896461`;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE USER b30896461_test1@localhost;
CREATE USER b30896461_test2@localhost;
CREATE SCHEMA `B30896461`;
CREATE FUNCTION `B30896461`.`testFn`() RETURNS INTEGER DETERMINISTIC RETURN 1;
GRANT b30896461_test1@localhost TO b30896461_test2@localhost;
GRANT EXECUTE ON FUNCTION `B30896461`.`testFn` TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test2@localhost;
FLUSH PRIVILEGES;
connect(con_b30896461_test1,localhost,b30896461_test1,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connect(con_b30896461_test2,localhost,b30896461_test2,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connection default;
disconnect con_b30896461_test1;
disconnect con_b30896461_test2;
DROP USER b30896461_test1@localhost, b30896461_test2@localhost;
DROP SCHEMA `B30896461`;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE USER b30896461_test1@localhost;
CREATE USER b30896461_test2@localhost;
CREATE SCHEMA `B30896461`;
CREATE FUNCTION `B30896461`.`testFn`() RETURNS INTEGER DETERMINISTIC RETURN 1;
GRANT b30896461_test1@localhost TO b30896461_test2@localhost;
GRANT EXECUTE ON FUNCTION `B30896461`.`testFn` TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test2@localhost;
FLUSH PRIVILEGES;
connect(con_b30896461_test1,localhost,b30896461_test1,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connect(con_b30896461_test2,localhost,b30896461_test2,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connection default;
disconnect con_b30896461_test1;
disconnect con_b30896461_test2;
DROP USER b30896461_test1@localhost, b30896461_test2@localhost;
DROP SCHEMA `B30896461`;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE USER b30896461_test1@localhost;
CREATE USER b30896461_test2@localhost;
CREATE SCHEMA `B30896461`;
CREATE FUNCTION `B30896461`.`testFn`() RETURNS INTEGER DETERMINISTIC RETURN 1;
GRANT b30896461_test1@localhost TO b30896461_test2@localhost;
GRANT EXECUTE ON FUNCTION `B30896461`.`testFn` TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test2@localhost;
FLUSH PRIVILEGES;
connect(con_b30896461_test1,localhost,b30896461_test1,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connect(con_b30896461_test2,localhost,b30896461_test2,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connection default;
disconnect con_b30896461_test1;
disconnect con_b30896461_test2;
DROP USER b30896461_test1@localhost, b30896461_test2@localhost;
DROP SCHEMA `B30896461`;
   let $wait_counter= `SELECT $wait_timeout * 10`;
while ($wait_counter)   let $current_sessions= query_get_value(SHOW GLOBAL STATUS LIKE 'Threads_connected', Value, 1);
   let $success= `SELECT $current_sessions <= $count_sessions`;
   if ($success)   {      let $wait_counter= 0;
   }   if (!$success)   {      sleep 0.1;
      dec $wait_counter;
   }         SHOW PROCESSLIST;
   CREATE USER b30896461_test1@localhost;
CREATE USER b30896461_test2@localhost;
CREATE SCHEMA `B30896461`;
CREATE FUNCTION `B30896461`.`testFn`() RETURNS INTEGER DETERMINISTIC RETURN 1;
GRANT b30896461_test1@localhost TO b30896461_test2@localhost;
GRANT EXECUTE ON FUNCTION `B30896461`.`testFn` TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test1@localhost;
GRANT SELECT ON test.* TO b30896461_test2@localhost;
FLUSH PRIVILEGES;
connect(con_b30896461_test1,localhost,b30896461_test1,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connect(con_b30896461_test2,localhost,b30896461_test2,,test);
SELECT `B30896461`.`testFn`();
SELECT `B30896461`.`testfn`();
disable_query_log;
disable_result_log;
  # Must pass in casemode 0 and 2  echo # testing database casemode;
  SELECT `b30896461`.`testfn`();
  # Must fail in casemode 1  echo # testing database casemode;
    SELECT `b30896461`.`testfn`();
enable_query_log;
enable_result_log;
SHOW GRANTS;
connection default;
disconnect con_b30896461_test1;
disconnect con_b30896461_test2;
DROP USER b30896461_test1@localhost, b30896461_test2@localhost;
DROP SCHEMA `B30896461`;
