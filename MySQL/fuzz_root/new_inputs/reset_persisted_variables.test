  RESET PERSIST;
RESET PERSIST max_connections;
RESET PERSIST IF EXISTS max_connections;
RESET PERSIST IF EXISTS;
RESET PERSIST IF EXISTS max_connections, long_query_time;
RESET PERSIST max_connections, long_query_time;
SET PERSIST sort_buffer_size=256000;
SET PERSIST long_query_time= 8.3452;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST sort_buffer_size=156000,max_connections= 52;
SET PERSIST max_heap_table_size=887808, replica_net_timeout=160;
SET PERSIST long_query_time= 7.8102;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST max_heap_table_size;
RESET PERSIST sort_buffer_size;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS replica_net_timeout;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST join_buffer_size= 262144;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS sort_buffer_size;
RESET PERSIST sort_buffer_size;
SET GLOBAL long_query_time= DEFAULT,           max_connections= DEFAULT, max_heap_table_size= DEFAULT,           replica_net_timeout= DEFAULT, sort_buffer_size= DEFAULT,           join_buffer_size= DEFAULT;
connect (conn1,localhost,root,,);
connect (conn2,localhost,root,,);
connection conn1;
SET DEBUG_SYNC='in_set_persist_variables SIGNAL set WAIT_FOR go';
connection conn2;
SET DEBUG_SYNC='now WAIT_FOR set';
connection default;
SET DEBUG_SYNC='now SIGNAL go';
connection conn1;
connection conn2;
connection default;
SELECT count(*) FROM performance_schema.persisted_variables  WHERE variable_name = 'max_connections';
SET DEBUG_SYNC='RESET';
disconnect conn1;
disconnect conn2;
SET GLOBAL max_connections=DEFAULT;
  RESET PERSIST;
RESET PERSIST max_connections;
RESET PERSIST IF EXISTS max_connections;
RESET PERSIST IF EXISTS;
RESET PERSIST IF EXISTS max_connections, long_query_time;
RESET PERSIST max_connections, long_query_time;
SET PERSIST sort_buffer_size=256000;
SET PERSIST long_query_time= 8.3452;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST sort_buffer_size=156000,max_connections= 52;
SET PERSIST max_heap_table_size=887808, replica_net_timeout=160;
SET PERSIST long_query_time= 7.8102;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST max_heap_table_size;
RESET PERSIST sort_buffer_size;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS replica_net_timeout;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST join_buffer_size= 262144;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS sort_buffer_size;
RESET PERSIST sort_buffer_size;
SET GLOBAL long_query_time= DEFAULT,           max_connections= DEFAULT, max_heap_table_size= DEFAULT,           replica_net_timeout= DEFAULT, sort_buffer_size= DEFAULT,           join_buffer_size= DEFAULT;
connect (conn1,localhost,root,,);
connect (conn2,localhost,root,,);
connection conn1;
SET DEBUG_SYNC='in_set_persist_variables SIGNAL set WAIT_FOR go';
connection conn2;
SET DEBUG_SYNC='now WAIT_FOR set';
connection default;
SET DEBUG_SYNC='now SIGNAL go';
connection conn1;
connection conn2;
connection default;
SELECT count(*) FROM performance_schema.persisted_variables  WHERE variable_name = 'max_connections';
SET DEBUG_SYNC='RESET';
disconnect conn1;
disconnect conn2;
SET GLOBAL max_connections=DEFAULT;
  RESET PERSIST;
RESET PERSIST max_connections;
RESET PERSIST IF EXISTS max_connections;
RESET PERSIST IF EXISTS;
RESET PERSIST IF EXISTS max_connections, long_query_time;
RESET PERSIST max_connections, long_query_time;
SET PERSIST sort_buffer_size=256000;
SET PERSIST long_query_time= 8.3452;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST sort_buffer_size=156000,max_connections= 52;
SET PERSIST max_heap_table_size=887808, replica_net_timeout=160;
SET PERSIST long_query_time= 7.8102;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST max_heap_table_size;
RESET PERSIST sort_buffer_size;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS replica_net_timeout;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST join_buffer_size= 262144;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS sort_buffer_size;
RESET PERSIST sort_buffer_size;
SET GLOBAL long_query_time= DEFAULT,           max_connections= DEFAULT, max_heap_table_size= DEFAULT,           replica_net_timeout= DEFAULT, sort_buffer_size= DEFAULT,           join_buffer_size= DEFAULT;
connect (conn1,localhost,root,,);
connect (conn2,localhost,root,,);
connection conn1;
SET DEBUG_SYNC='in_set_persist_variables SIGNAL set WAIT_FOR go';
connection conn2;
SET DEBUG_SYNC='now WAIT_FOR set';
connection default;
SET DEBUG_SYNC='now SIGNAL go';
connection conn1;
connection conn2;
connection default;
SELECT count(*) FROM performance_schema.persisted_variables  WHERE variable_name = 'max_connections';
SET DEBUG_SYNC='RESET';
disconnect conn1;
disconnect conn2;
SET GLOBAL max_connections=DEFAULT;
  RESET PERSIST;
RESET PERSIST max_connections;
RESET PERSIST IF EXISTS max_connections;
RESET PERSIST IF EXISTS;
RESET PERSIST IF EXISTS max_connections, long_query_time;
RESET PERSIST max_connections, long_query_time;
SET PERSIST sort_buffer_size=256000;
SET PERSIST long_query_time= 8.3452;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST sort_buffer_size=156000,max_connections= 52;
SET PERSIST max_heap_table_size=887808, replica_net_timeout=160;
SET PERSIST long_query_time= 7.8102;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST max_heap_table_size;
RESET PERSIST sort_buffer_size;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS replica_net_timeout;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST join_buffer_size= 262144;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS sort_buffer_size;
RESET PERSIST sort_buffer_size;
SET GLOBAL long_query_time= DEFAULT,           max_connections= DEFAULT, max_heap_table_size= DEFAULT,           replica_net_timeout= DEFAULT, sort_buffer_size= DEFAULT,           join_buffer_size= DEFAULT;
connect (conn1,localhost,root,,);
connect (conn2,localhost,root,,);
connection conn1;
SET DEBUG_SYNC='in_set_persist_variables SIGNAL set WAIT_FOR go';
connection conn2;
SET DEBUG_SYNC='now WAIT_FOR set';
connection default;
SET DEBUG_SYNC='now SIGNAL go';
connection conn1;
connection conn2;
connection default;
SELECT count(*) FROM performance_schema.persisted_variables  WHERE variable_name = 'max_connections';
SET DEBUG_SYNC='RESET';
disconnect conn1;
disconnect conn2;
SET GLOBAL max_connections=DEFAULT;
  RESET PERSIST;
RESET PERSIST max_connections;
RESET PERSIST IF EXISTS max_connections;
RESET PERSIST IF EXISTS;
RESET PERSIST IF EXISTS max_connections, long_query_time;
RESET PERSIST max_connections, long_query_time;
SET PERSIST sort_buffer_size=256000;
SET PERSIST long_query_time= 8.3452;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST sort_buffer_size=156000,max_connections= 52;
SET PERSIST max_heap_table_size=887808, replica_net_timeout=160;
SET PERSIST long_query_time= 7.8102;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST max_heap_table_size;
RESET PERSIST sort_buffer_size;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS replica_net_timeout;
select * from performance_schema.persisted_variables ORDER BY 1;
SET PERSIST join_buffer_size= 262144;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST;
select * from performance_schema.persisted_variables ORDER BY 1;
RESET PERSIST IF EXISTS sort_buffer_size;
RESET PERSIST sort_buffer_size;
SET GLOBAL long_query_time= DEFAULT,           max_connections= DEFAULT, max_heap_table_size= DEFAULT,           replica_net_timeout= DEFAULT, sort_buffer_size= DEFAULT,           join_buffer_size= DEFAULT;
connect (conn1,localhost,root,,);
connect (conn2,localhost,root,,);
connection conn1;
SET DEBUG_SYNC='in_set_persist_variables SIGNAL set WAIT_FOR go';
connection conn2;
SET DEBUG_SYNC='now WAIT_FOR set';
connection default;
SET DEBUG_SYNC='now SIGNAL go';
connection conn1;
connection conn2;
connection default;
SELECT count(*) FROM performance_schema.persisted_variables  WHERE variable_name = 'max_connections';
SET DEBUG_SYNC='RESET';
disconnect conn1;
disconnect conn2;
SET GLOBAL max_connections=DEFAULT;
