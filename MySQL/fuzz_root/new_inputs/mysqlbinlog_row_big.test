      DROP TABLE IF EXISTS t1;
SET timestamp=1000000000;
query_get_value(SELECT @@global.max_allowed_packet, @@global.max_allowed_packet, 1);
SET @@global.max_allowed_packet= 1024*1024*1024;
disconnect default;
connect (default, localhost,root,,);
RESET MASTER;
eval CREATE TABLE t1 (  c1 LONGTEXT  ) ENGINE=$engine_type DEFAULT CHARSET latin1;
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 4194304));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 2097152));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 262144));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 32768));
query_vertical SELECT LENGTH(c1) FROM t1;
UPDATE t1 SET c1 = CONCAT(c1, c1);
query_vertical SELECT LENGTH(c1) FROM t1;
DELETE FROM t1 WHERE c1 >= 'ManyMegaByteBlck';
FLUSH LOGS;
eval SET @@global.max_allowed_packet = $orig_max_allowed_packet;
DROP TABLE t1;
      DROP TABLE IF EXISTS t1;
SET timestamp=1000000000;
query_get_value(SELECT @@global.max_allowed_packet, @@global.max_allowed_packet, 1);
SET @@global.max_allowed_packet= 1024*1024*1024;
disconnect default;
connect (default, localhost,root,,);
RESET MASTER;
eval CREATE TABLE t1 (  c1 LONGTEXT  ) ENGINE=$engine_type DEFAULT CHARSET latin1;
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 4194304));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 2097152));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 262144));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 32768));
query_vertical SELECT LENGTH(c1) FROM t1;
UPDATE t1 SET c1 = CONCAT(c1, c1);
query_vertical SELECT LENGTH(c1) FROM t1;
DELETE FROM t1 WHERE c1 >= 'ManyMegaByteBlck';
FLUSH LOGS;
eval SET @@global.max_allowed_packet = $orig_max_allowed_packet;
DROP TABLE t1;
      DROP TABLE IF EXISTS t1;
SET timestamp=1000000000;
query_get_value(SELECT @@global.max_allowed_packet, @@global.max_allowed_packet, 1);
SET @@global.max_allowed_packet= 1024*1024*1024;
disconnect default;
connect (default, localhost,root,,);
RESET MASTER;
eval CREATE TABLE t1 (  c1 LONGTEXT  ) ENGINE=$engine_type DEFAULT CHARSET latin1;
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 4194304));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 2097152));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 262144));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 32768));
query_vertical SELECT LENGTH(c1) FROM t1;
UPDATE t1 SET c1 = CONCAT(c1, c1);
query_vertical SELECT LENGTH(c1) FROM t1;
DELETE FROM t1 WHERE c1 >= 'ManyMegaByteBlck';
FLUSH LOGS;
eval SET @@global.max_allowed_packet = $orig_max_allowed_packet;
DROP TABLE t1;
      DROP TABLE IF EXISTS t1;
SET timestamp=1000000000;
query_get_value(SELECT @@global.max_allowed_packet, @@global.max_allowed_packet, 1);
SET @@global.max_allowed_packet= 1024*1024*1024;
disconnect default;
connect (default, localhost,root,,);
RESET MASTER;
eval CREATE TABLE t1 (  c1 LONGTEXT  ) ENGINE=$engine_type DEFAULT CHARSET latin1;
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 4194304));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 2097152));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 262144));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 32768));
query_vertical SELECT LENGTH(c1) FROM t1;
UPDATE t1 SET c1 = CONCAT(c1, c1);
query_vertical SELECT LENGTH(c1) FROM t1;
DELETE FROM t1 WHERE c1 >= 'ManyMegaByteBlck';
FLUSH LOGS;
eval SET @@global.max_allowed_packet = $orig_max_allowed_packet;
DROP TABLE t1;
      DROP TABLE IF EXISTS t1;
SET timestamp=1000000000;
query_get_value(SELECT @@global.max_allowed_packet, @@global.max_allowed_packet, 1);
SET @@global.max_allowed_packet= 1024*1024*1024;
disconnect default;
connect (default, localhost,root,,);
RESET MASTER;
eval CREATE TABLE t1 (  c1 LONGTEXT  ) ENGINE=$engine_type DEFAULT CHARSET latin1;
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 4194304));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 2097152));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 262144));
INSERT INTO t1 VALUES (REPEAT('ManyMegaByteBlck', 32768));
query_vertical SELECT LENGTH(c1) FROM t1;
UPDATE t1 SET c1 = CONCAT(c1, c1);
query_vertical SELECT LENGTH(c1) FROM t1;
DELETE FROM t1 WHERE c1 >= 'ManyMegaByteBlck';
FLUSH LOGS;
eval SET @@global.max_allowed_packet = $orig_max_allowed_packet;
DROP TABLE t1;
